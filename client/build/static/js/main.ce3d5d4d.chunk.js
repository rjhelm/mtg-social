(this["webpackJsonpmtg-social"]=this["webpackJsonpmtg-social"]||[]).push([[0],{213:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),o=n(28),c=n.n(o),i=n(9),s=n(13),l=n(11),d=n(32),u=n(262),m=n(179),j=n(290),p=n(265),b=n(93),O=n(266),h=n(20),g=n(259),x=Object(g.a)((function(e){return{root:{width:"100vW",display:"flex",flexDirection:"column",flex:1,minHeight:"100vH"}}}),{index:1}),f=Object(g.a)((function(e){return{leftPortion:{flexGrow:1,display:"flex",alignItems:"center"},logoWrapper:Object(h.a)({marginRight:"1em"},e.breakpoints.down("xs"),{display:"flex",alignItems:"center"}),logo:{fontFamily:"Montserrat",textTransform:"none",fontSize:"1.5em",padding:"0.1em",marginRight:"0.3em"},contentContainer:{display:"flex",alignItems:"center"},appBar:{borderTop:"4px solid black"},searchBar:Object(h.a)({flexGrow:.6},e.breakpoints.down("xs"),{flexGrow:1,marginLeft:"0.6em",marginRight:"0.6em"}),searchBtn:{padding:"0.2em"},iconBtn:Object(h.a)({},e.breakpoints.down("xs"),{padding:"0.2em"})}}),{index:1}),y=Object(g.a)((function(e){return{menuIcon:{marginRight:"6px",fontSize:"1.5em"},closeIcon:{boxSizing:"border-box",border:"0.5px solid ".concat(e.palette.primary.main,"60"),borderRadius:3},rootPanel:{position:"sticky",top:"5.5vH",display:"flex",minHeight:"94.5vh"},list:{marginTop:"1em"},madeByItem:{padding:"0.4em 0.8em 0.2em 0.8em"},userBtn:{textTransform:"none",display:"flex"},avatar:Object(h.a)({width:e.spacing(3.5),height:e.spacing(3.5),marginRight:"0.4em",borderRadius:2},e.breakpoints.down("xs"),{marginRight:"0.2em",width:e.spacing(2.8),height:e.spacing(2.8)}),moreBtn:{padding:"0.2em"},userBtnMob:{padding:"0.3em"}}}),{index:1}),v=Object(g.a)((function(e){return{root:Object(h.a)({width:"100%",marginTop:"1em",padding:"0.4em 0.7em"},e.breakpoints.down("xs"),{paddingLeft:"0.3em",paddingRight:"0.3em"}),topBar:Object(h.a)({display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap"},e.breakpoints.down("xs"),{paddingLeft:"0.4em",paddingRight:"0.4em"}),btnGroupWrapper:Object(h.a)({width:"100%",display:"flex",justifyContent:"flex-end",margin:"1em 0"},e.breakpoints.down("xs"),{width:"97%",margin:"1em auto"}),loadBtnWrapper:{display:"flex",justifyContent:"center"},loadBtn:{marginTop:"0.8em",marginBottom:"0.4em",width:"50%",display:"flex"},noPostText:{textAlign:"center",marginTop:"2em"}}}),{index:1}),I=Object(g.a)((function(e){return{rootPanel:{position:"sticky",display:"flex",minHeight:"10vh",top:"5.5vH"},content:{paddingTop:0,marginTop:"1em"},tagsColumn:{border:"1px solid ".concat(e.palette.primary.main,"50"),borderRadius:4,padding:"0.8em",backgroundColor:"".concat(e.palette.primary.main,"08")},tagsWrapper:{marginTop:"1em",display:"grid",width:"100%",gridTemplateColumns:"repeat(2, minmax(130px, 1fr))",gridGap:"8px"}}}),{index:1}),w=Object(g.a)((function(e){return{root:{borderBottom:"1px solid #dfdfdf",display:"flex",padding:"0.5em 0",borderRadius:0},infoWrapper:Object(h.a)({width:"10%",padding:"0.4em",display:"flex",flexDirection:"column",textAlign:"center"},e.breakpoints.down("xs"),{width:"22%",paddingRight:"0.2em"}),mainText:{fontSize:"1.2em",fontWeight:500},title:{fontSize:"1.2em",fontWeight:500,wordWrap:"anywhere",textDecoration:"none","&:hover":{filter:"brightness(200%)"},transition:"all 0.4s ease"},innerInfo:{display:"flex",flexDirection:"column"},postDetails:{paddingLeft:"0.2em",paddingBottom:"0.7em",display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%"},tagsWrapper:{display:"flex",flexWrap:"wrap"},tag:{marginRight:"0.5em",marginTop:"0.5em"},bottomWrapper:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},byUserWrapper:{display:"flex",alignItems:"center",marginTop:"0.7em"},filledByUser:{display:"flex",alignItems:"center",marginTop:"0.7em",backgroundColor:"".concat(e.palette.primary.main,"10"),padding:"0.4em",borderRadius:3,border:"1px solid ".concat(e.palette.primary.main,"40")},homeAvatar:{width:e.spacing(4),height:e.spacing(4),marginRight:"0.4em",borderRadius:2},postReplyAvatar:{width:e.spacing(5),height:e.spacing(5),marginRight:"0.4em",borderRadius:2}}}),{index:1}),C=Object(g.a)((function(e){return{dialogWrapper:Object(h.a)({padding:0,overflow:"hidden"},e.breakpoints.down("xs"),{padding:0}),menuIcon:{marginRight:"6px",fontSize:"1.3em"},upDownIcon:{color:"#aa9aaa",fontSize:32}}}),{index:1}),N=Object(g.a)((function(e){return{root:Object(h.a)({paddingLeft:20,paddingRight:20,paddingBottom:20},e.breakpoints.down("xs"),{padding:"0 0 0 0"}),inputField:{marginBottom:"1.5em"},submitButton:{marginTop:"1.8em"},titleLogo:{display:"block",width:"17em",margin:"0 auto 2em auto"},footerText:{marginTop:"1em",textAlign:"center"},link:{cursor:"pointer"}}}),{index:1}),E=Object(g.a)((function(e){return{root:{marginTop:"1em",padding:"0.4em 0.7em",width:"100%"},titleText:{marginBottom:"0.9em"},filterInput:Object(h.a)({marginTop:"1.2em"},e.breakpoints.down("xs"),{width:"100%"}),tagsWrapper:{marginTop:"1em",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(157px, 1fr))",gridGap:"12px"},tagBox:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"0.8em",paddingBottom:"0.4em",border:"1px solid #d3d3d3",borderRadius:4},tag:{marginBottom:"0.9em"}}}),{index:1}),T=Object(g.a)((function(e){return{root:{marginTop:"1em",padding:"0.4em 0.7em",width:"100%"},filterInput:Object(h.a)({marginTop:"1.2em"},e.breakpoints.down("xs"),{width:"100%"}),usersWrapper:{marginTop:"1.4em",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gridGap:"14px"},userBox:{display:"flex",alignItems:"center"},avatar:{width:e.spacing(6),height:e.spacing(6),marginRight:"0.6em",borderRadius:2}}}),{index:1}),R=Object(g.a)((function(e){return{root:Object(h.a)({width:"100%",paddingLeft:"0.7em",marginTop:"1em"},e.breakpoints.down("xs"),{paddingRight:"0.7em"}),titleWrapper:Object(h.a)({display:"flex",justifyContent:"space-between",alignItems:"flex-start",paddingBottom:"0.4em"},e.breakpoints.down("xs"),{flexWrap:"wrap"}),postInfo:{display:"flex",paddingBottom:"0.8em"},content:{paddingTop:"0.5em",width:"100%",paddingBottom:"1em"},postReplyWrapper:{display:"flex",marginBottom:"1em"},voteColumn:{display:"flex",flexDirection:"column",width:30,alignItems:"center"},postBody:Object(h.a)({padding:"0.6em 1em",paddingBottom:0,width:"100%"},e.breakpoints.down("xs"),{paddingRight:"0"}),tag:{marginRight:"0.5em",marginTop:"0.5em"},tagsWrapper:{display:"flex",flexWrap:"wrap",marginTop:"1em"},bottomWrapper:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",marginTop:"1.4em",marginBottom:"0.8em"},bottomBtns:{padding:"0.15em"},commentWrapper:{padding:"0.5em 0.2em"},commentBtns:{padding:"0 0.1em",minWidth:"3em"},smallForm:{marginTop:"1em"},submitCancelBtns:{display:"flex",justifyContent:"flex-start",marginTop:"0.3em"},answersWrapper:{marginTop:"1em"},answerHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5em",padding:"0 0.5em"},acceptIcon:{color:"#aa9aaa",fontSize:32},checkedAcceptIcon:{color:"#2e8b57",fontSize:32},answerWrapper:{marginBottom:"0.5em"},answerForm:{marginTop:"2em"},footerText:{marginTop:"1em",marginBottom:"1em",display:"flex",alignItems:"flex-start"},footerTag:{marginRight:"0.5em"}}}),{index:1}),k=Object(g.a)((function(e){return{root:Object(h.a)({marginTop:"1em",padding:"0em 1.4em",width:"100%",display:"flex"},e.breakpoints.down("xs"),{flexDirection:"column",padding:"0em 0.9em"}),userCard:Object(h.a)({backgroundColor:"".concat(e.palette.primary.main,"15"),padding:"1.6em",height:"12.5em",textAlign:"center"},e.breakpoints.down("xs"),{display:"flex",flexDirection:"column",alignItems:"center",height:"9.5em",marginBottom:"0.5em"}),avatar:Object(h.a)({width:e.spacing(21),height:e.spacing(21),borderRadius:3},e.breakpoints.down("xs"),{width:e.spacing(15),height:e.spacing(15)}),cardText:{marginTop:"0.5em"},infoCard:Object(h.a)({paddingLeft:"2em",paddingRight:"2em",width:"100%"},e.breakpoints.down("xs"),{paddingLeft:0,paddingRight:0}),userInfo:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},bigText:Object(h.a)({},e.breakpoints.down("xs"),{fontSize:"1.5em"}),smallText:Object(h.a)({},e.breakpoints.down("xs"),{fontSize:"0.8em"}),statsBar:{textAlign:"center",display:"flex",alignItems:"center"},recentActivity:{marginTop:"1em"},recentPostReply:{display:"flex",padding:"0.5em 0",alignItems:"center",justifyContent:"space-between"},votesTitleWrapper:{display:"flex",alignItems:"center"},votes:Object(h.a)({padding:"0.2em 0.5em",border:"1px solid #d3d3d3",marginRight:"0.7em"},e.breakpoints.down("xs"),{marginRight:"0.5em"}),title:{textDecoration:"none","&:hover":{filter:"brightness(200%)"},transition:"all 0.4s ease"}}}),{index:1}),B=Object(g.a)((function(e){return{root:{width:"100%",marginTop:"1em",padding:"0.4em 1em"},postForm:{paddingTop:"0.8em"},inputWrapper:{marginBottom:"2em"},inputField:{marginTop:"0.4em"},submitBtn:Object(h.a)({},e.breakpoints.down("xs"),{width:"100%"}),tag:{marginRight:"0.5em"}}}),{index:1}),P=Object(g.a)((function(e){return{icon:{color:"gold",fontSize:32},checkedIcon:{color:"black",fontSize:32}}}),{index:1}),A=Object(g.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},marginTop:"0.8em",marginBottom:"0.8em"}}}),{index:1}),S=Object(g.a)((function(e){return{root:{width:"100%",marginTop:"1em",padding:"0.4em 1em"},textWrapper:{marginTop:"15%",textAlign:"center"},icon:{fontSize:"6em",marginBottom:"0.3em"}}}),{index:1}),D=n(162),M=n.n(D),z=n(109),W=n.n(z),$=n(113),q=n.n($),L=n(114),U=n.n(L),_=n(115),F=n.n(_),V=n(163),G=n.n(V),H=function(){var e=Object(d.h)().pathname,t=Object(a.useState)(null),n=Object(i.a)(t,2),o=n[0],c=n[1],l=y(),h=function(){c(null)};return Object(r.jsxs)("div",{children:[Object(r.jsx)(u.a,{color:"primary",onClick:function(e){c(e.currentTarget)},children:o?Object(r.jsx)(W.a,{className:l.closeIcon}):Object(r.jsx)(M.a,{})}),Object(r.jsxs)(m.a,{anchorEl:o,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,open:Boolean(o),onClose:h,marginThreshold:0,elevation:1,children:[Object(r.jsxs)(j.a,{selected:"/"===e||!e.startsWith("/tag")&&!e.startsWith("/user"),dense:!0,component:s.b,to:"/",onClick:h,children:[Object(r.jsx)(q.a,{className:l.menuIcon}),"MTG-Social"]}),Object(r.jsxs)(j.a,{selected:e.startsWith("/tag"),dense:!0,component:s.b,to:"/tags",onClick:h,children:[Object(r.jsx)(U.a,{className:l.menuIcon}),"Tags"]}),Object(r.jsxs)(j.a,{selected:e.startsWith("/user"),dense:!0,component:s.b,to:"/users",onClick:h,children:[Object(r.jsx)(F.a,{className:l.menuIcon}),"Commanders"]}),Object(r.jsx)(p.a,{}),Object(r.jsx)("div",{className:l.madeByItem,children:Object(r.jsxs)(b.a,{variant:"caption",color:"secondary",children:["ryanj_dev",Object(r.jsx)(G.a,{style:{fontSize:12,color:" gold"}}),Object(r.jsx)(O.a,{href:"https://github.com/rjhelm",color:"inherit",target:"_blank",rel:"noopener",children:Object(r.jsx)("strong",{children:" rjhelm"})})]})})]})]})},Q=n(53),Y=n(25);function J(){var e=Object(Y.a)(["\n  fragment LoggedUserDetails on LoggedUser {\n    id\n    username\n    role\n    token\n  }\n"]);return J=function(){return e},e}function K(){var e=Object(Y.a)(["\n  fragment PostDetails on Post {\n    id\n    author {\n      ...AuthorDetails\n    }\n    title\n    body\n    tags\n    points\n    views\n    acceptedReply\n    comments {\n      ...CommentDetails\n    }\n    replies {\n      ...ReplyDetails\n    }\n    upvotedBy\n    downvotedBy\n    createdAt\n    updatedAt\n  }\n  ","\n  ","\n  ","\n"]);return K=function(){return e},e}function Z(){var e=Object(Y.a)(["\n  fragment ReplyDetails on Reply {\n    id\n    author {\n      ...AuthorDetails\n    }\n    body\n    comments {\n      ...CommentDetails\n    }\n    points\n    upvotedBy\n    downvotedBy\n    createdAt\n    updatedAt\n  }\n  ","\n  ","\n"]);return Z=function(){return e},e}function X(){var e=Object(Y.a)(["\n  fragment CommentDetails on Comment {\n    id\n    author {\n      ...AuthorDetails\n    }\n    body\n    createdAt\n    updatedAt\n  }\n  ","\n"]);return X=function(){return e},e}function ee(){var e=Object(Y.a)(["\n  fragment AuthorDetails on Author {\n    id\n    username\n  }\n"]);return ee=function(){return e},e}var te=Object(l.gql)(ee()),ne=Object(l.gql)(X(),te),re=Object(l.gql)(Z(),ne,te),ae=Object(l.gql)(K(),ne,te,re),oe=Object(l.gql)(J());function ce(){var e=Object(Y.a)(["\n  mutation removeReplyComment($postId: ID!, $replyId: ID!, $commentId: ID!) {\n    deleteReplyComment(postId: $postId, replyId: $replyId, commentId: $commentId)\n  }\n"]);return ce=function(){return e},e}function ie(){var e=Object(Y.a)(["\n  mutation updateReplyComment(\n    $postId: ID!\n    $replyId: ID!\n    $commentId: ID!\n    $body: String!\n  ) {\n    editReplyComment(\n      postId: $postId\n      replyId: $replyId\n      commentId: $commentId\n      body: $body\n    ) {\n      ...CommentDetails\n    }\n  }\n  ","\n"]);return ie=function(){return e},e}function se(){var e=Object(Y.a)(["\n  mutation postReplyComment($postId: ID!, $replyId: ID!, $body: String!) {\n    addReplyComment(postId: $postId, replyId: $replyId, body: $body) {\n      ...CommentDetails\n    }\n  }\n  ","\n"]);return se=function(){return e},e}function le(){var e=Object(Y.a)(["\n  mutation submitAcceptReply($postId: ID!, $replyId: ID!) {\n    acceptReply(postId: $postId, replyId: $replyId) {\n      id\n      acceptedReply\n    }\n  }\n"]);return le=function(){return e},e}function de(){var e=Object(Y.a)(["\n  mutation submitVote($postId: ID!, $replyId: ID!, $voteType: VoteType!) {\n    voteReply(postId: $postId, replyId: $replyId, voteType: $voteType) {\n      id\n      upvotedBy\n      downvotedBy\n      points\n    }\n  }\n"]);return de=function(){return e},e}function ue(){var e=Object(Y.a)(["\n  mutation removeReply($postId: ID!, $replyId: ID!) {\n    deleteReply(postId: $postId, replyId: $replyId)\n  }\n"]);return ue=function(){return e},e}function me(){var e=Object(Y.a)(["\n  mutation updateReply($postId: ID!, $replyId: ID!, $body: String!) {\n    editReply(postId: $postId, replyId: $replyId, body: $body) {\n      ...ReplyDetails\n    }\n  }\n  ","\n"]);return me=function(){return e},e}function je(){var e=Object(Y.a)(["\n  mutation addReply($postId: ID!, $body: String!) {\n    postReply(postId: $postId, body: $body) {\n      ...ReplyDetails\n    }\n  }\n  ","\n"]);return je=function(){return e},e}function pe(){var e=Object(Y.a)(["\n  mutation removePostComment($postId: ID!, $commentId: ID!) {\n    deletePostComment(postId: $postId, commentId: $commentId)\n  }\n"]);return pe=function(){return e},e}function be(){var e=Object(Y.a)(["\n  mutation updatePostComment($postId: ID!, $commentId: ID!, $body: String!) {\n    editPostComment(postId: $postId, commentId: $commentId, body: $body) {\n      ...CommentDetails\n    }\n  }\n  ","\n"]);return be=function(){return e},e}function Oe(){var e=Object(Y.a)(["\n  mutation postPostComment($postId: ID!, $body: String!) {\n    addPostComment(postId: $postId, body: $body) {\n      ...CommentDetails\n    }\n  }\n  ","\n"]);return Oe=function(){return e},e}function he(){var e=Object(Y.a)(["\n  mutation submitVote($postId: ID!, $voteType: VoteType!) {\n    votePost(postId: $postId, voteType: $voteType) {\n      id\n      upvotedBy\n      downvotedBy\n      points\n    }\n  }\n"]);return he=function(){return e},e}function ge(){var e=Object(Y.a)(["\n  mutation removePost($postId: ID!) {\n    deletePost(postId: $postId)\n  }\n"]);return ge=function(){return e},e}function xe(){var e=Object(Y.a)(["\n  mutation updatePost(\n    $postId: ID!\n    $title: String!\n    $body: String!\n    $tags: [String!]!\n  ) {\n    editPost(postId: $postId, title: $title, body: $body, tags: $tags) {\n      ...PostDetails\n    }\n  }\n  ","\n"]);return xe=function(){return e},e}function fe(){var e=Object(Y.a)(["\n  mutation addPost($title: String!, $body: String!, $tags: [String!]!) {\n    postPost(title: $title, body: $body, tags: $tags) {\n      ...PostDetails\n    }\n  }\n  ","\n"]);return fe=function(){return e},e}function ye(){var e=Object(Y.a)(["\n  mutation loginUser($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      ...LoggedUserDetails\n    }\n  }\n  ","\n"]);return ye=function(){return e},e}function ve(){var e=Object(Y.a)(["\n  mutation registerUser($username: String!, $password: String!) {\n    register(username: $username, password: $password) {\n      ...LoggedUserDetails\n    }\n  }\n  ","\n"]);return ve=function(){return e},e}var Ie=Object(l.gql)(ve(),oe),we=Object(l.gql)(ye(),oe),Ce=Object(l.gql)(fe(),ae),Ne=Object(l.gql)(xe(),ae),Ee=Object(l.gql)(ge()),Te=Object(l.gql)(he()),Re=Object(l.gql)(Oe(),ne),ke=Object(l.gql)(be(),ne),Be=Object(l.gql)(pe()),Pe=Object(l.gql)(je(),re),Ae=Object(l.gql)(me(),re),Se=Object(l.gql)(ue()),De=Object(l.gql)(de()),Me=Object(l.gql)(le()),ze=Object(l.gql)(se(),ne),We=Object(l.gql)(ie(),ne),$e=Object(l.gql)(ce()),qe=n(14),Le="sofCloneUserKey",Ue="sofCloneDarkMode",_e=function(e){return localStorage.setItem(Le,JSON.stringify(e))},Fe=function(){return JSON.parse(localStorage.getItem(Le))},Ve=function(){return localStorage.removeItem(Le)},Ge=function(e){return localStorage.setItem(Ue,e)},He=function(){return JSON.parse(localStorage.getItem(Ue))},Qe=Object(a.createContext)({user:null,setUser:function(e){},logoutUser:function(){}}),Ye=function(e,t){switch(t.type){case"LOGIN":return Object(qe.a)(Object(qe.a)({},e),{},{user:t.payload});case"LOGOUT":return Object(qe.a)(Object(qe.a)({},e),{},{user:null});default:return e}},Je=function(e){var t=e.children,n=Object(a.useReducer)(Ye,{user:null}),o=Object(i.a)(n,2),c=o[0],s=o[1];Object(a.useEffect)((function(){var e=Fe();e&&s({type:"LOGIN",payload:e})}),[]);return Object(r.jsx)(Qe.Provider,{value:{user:c.user,setUser:function(e){_e(e),s({type:"LOGIN",payload:e})},logoutUser:function(){Ve(),s({type:"LOGOUT"})}},children:t})},Ke=function(){return Object(a.useContext)(Qe)},Ze=Object(a.createContext)({editValues:null,notification:null,darkMode:!1,setEditValues:function(e){},clearEdit:function(){},notify:function(e,t,n){},clearNotif:function(){},toggleDarkMode:function(){}}),Xe=function(e,t){switch(t.type){case"SET_EDIT":return Object(qe.a)(Object(qe.a)({},e),{},{editValues:t.payload});case"CLEAR_EDIT":return Object(qe.a)(Object(qe.a)({},e),{},{editValues:null});case"SET_NOTIFICATION":return Object(qe.a)(Object(qe.a)({},e),{},{notification:t.payload});case"CLEAR_NOTIFICATION":return Object(qe.a)(Object(qe.a)({},e),{},{notification:null});case"TOGGLE_DARK_MODE":return Object(qe.a)(Object(qe.a)({},e),{},{darkMode:!e.darkMode});default:return e}},et=function(e){var t=e.children,n=Object(a.useReducer)(Xe,{editValues:null,notification:null,darkMode:!1}),o=Object(i.a)(n,2),c=o[0],s=o[1];Object(a.useEffect)((function(){!0===He()&&s({type:"TOGGLE_DARK_MODE"})}),[]);var l=null;return Object(r.jsx)(Ze.Provider,{value:{editValues:c.editValues,notification:c.notification,darkMode:c.darkMode,setEditValues:function(e){s({type:"SET_EDIT",payload:e})},clearEdit:function(){s({type:"CLEAR_EDIT"})},notify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;clearTimeout(l),s({type:"SET_NOTIFICATION",payload:{message:e,severity:t,duration:n}}),l=setTimeout((function(){s({type:"CLEAR_NOTIFICATION"})}),1e3*n)},clearNotif:function(){s({type:"CLEAR_NOTIFICATION"})},toggleDarkMode:function(){s({type:"TOGGLE_DARK_MODE"}),Ge(!c.darkMode)}},children:t})},tt=function(){return Object(a.useContext)(Ze)},nt=n(286),rt=n(267),at=function(e){var t=e.errorMsg,n=e.clearErrorMsg,a=A();return t?Object(r.jsx)("div",{className:a.root,children:Object(r.jsxs)(nt.a,{severity:"error",onClose:n,children:[Object(r.jsx)(rt.a,{children:"Error"}),t]})}):null},ot=n(36),ct=n(57),it=n.p+"static/media/logo.ac78eaed.svg",st=n(283),lt=n(281),dt=function(e){return Object(st.a)(new Date(e))},ut=function(e){return Object(lt.a)(new Date(e),"MMM d', ' yy 'at' H':'mm")},mt=function(e){var t;return(null===(t=e.graphQLErrors[0])||void 0===t?void 0:t.message)?e.graphQLErrors[0].message:null===e||void 0===e?void 0:e.message},jt=n(282),pt=n(268),bt=n(217),Ot=n(122),ht=n.n(Ot),gt=n(123),xt=n.n(gt),ft=n(124),yt=n.n(ft),vt=n(91),It=n.n(vt),wt=n(92),Ct=n.n(wt),Nt=ot.a({username:ot.b().required("Required"),password:ot.b().required("Required")}),Et=function(e){var t=e.setAuthType,n=e.closeModal,o=Object(a.useState)(!1),c=Object(i.a)(o,2),s=c[0],d=c[1],m=Object(a.useState)(null),j=Object(i.a)(m,2),p=j[0],h=j[1],g=N(),x=Ke().setUser,f=tt().notify,y=Object(Q.useForm)({mode:"onTouched",resolver:Object(ct.yupResolver)(Nt)}),v=y.register,I=y.handleSubmit,w=y.reset,C=y.errors,E=Object(l.useMutation)(we,{onError:function(e){h(mt(e))}}),T=Object(i.a)(E,2),R=T[0],k=T[1].loading;return Object(r.jsxs)("div",{className:g.root,children:[Object(r.jsx)("img",{src:it,alt:"mtg",className:g.titleLogo}),Object(r.jsxs)("form",{onSubmit:I((function(e){var t=e.username,r=e.password;R({variables:{username:t,password:r},update:function(e,t){var r=t.data;x(r.login),f("Welcome, ".concat(r.login.username,"! You're logged in.")),w(),n()}})})),children:[Object(r.jsx)("div",{className:g.inputField,children:Object(r.jsx)(jt.a,{fullWidth:!0,inputRef:v,name:"username",type:"text",label:"Username",variant:"outlined",size:"small",error:"username"in C,helperText:"username"in C?C.username.message:"",InputProps:{startAdornment:Object(r.jsx)(pt.a,{position:"start",children:Object(r.jsx)(ht.a,{color:"primary"})})}})}),Object(r.jsx)("div",{className:g.inputField,children:Object(r.jsx)(jt.a,{required:!0,fullWidth:!0,inputRef:v,name:"password",type:s?"text":"password",label:"Password",variant:"outlined",size:"small",error:"password"in C,helperText:"password"in C?C.password.message:"",InputProps:{endAdornment:Object(r.jsx)(pt.a,{position:"end",children:Object(r.jsx)(u.a,{onClick:function(){return d((function(e){return!e}))},size:"small",children:s?Object(r.jsx)(It.a,{color:"secondary"}):Object(r.jsx)(Ct.a,{color:"secondary"})})}),startAdornment:Object(r.jsx)(pt.a,{position:"start",children:Object(r.jsx)(xt.a,{color:"primary"})})}})}),Object(r.jsx)(bt.a,{color:"primary",variant:"contained",size:"large",fullWidth:!0,startIcon:Object(r.jsx)(yt.a,{}),type:"submit",disabled:k,children:"Log In"})]}),Object(r.jsxs)(b.a,{variant:"body1",className:g.footerText,children:["Not a Commander?"," ",Object(r.jsx)(O.a,{onClick:function(){return t("signup")},className:g.link,children:"Sign Up || Become a Commander"})]}),Object(r.jsx)(at,{errorMsg:p,clearErrorMsg:function(){return h(null)}})]})},Tt=n(168),Rt=n.n(Tt),kt=n(125),Bt=n.n(kt),Pt=ot.a({username:ot.b().required("Required").max(20,"Must be at most 20 characters").min(3,"Must be at least 3 characters").matches(/^[a-zA-Z0-9-_]*$/,"Only alphanum, dash & underscore characters are allowed"),password:ot.b().required("Required").min(6,"Must be at least 6 characters"),confirmPassword:ot.b().required("Required").min(6,"Must be at least 6 characters")}),At=function(e){var t=e.setAuthType,n=e.closeModal,o=Object(a.useState)(!1),c=Object(i.a)(o,2),s=c[0],d=c[1],m=Object(a.useState)(null),j=Object(i.a)(m,2),p=j[0],h=j[1],g=Object(a.useState)(!1),x=Object(i.a)(g,2),f=x[0],y=x[1],v=N(),I=Ke().setUser,w=tt().notify,C=Object(Q.useForm)({mode:"onTouched",resolver:Object(ct.yupResolver)(Pt)}),E=C.register,T=C.handleSubmit,R=C.reset,k=C.errors,B=Object(l.useMutation)(Ie,{onError:function(e){h(mt(e))}}),P=Object(i.a)(B,2),A=P[0],S=P[1].loading;return Object(r.jsxs)("div",{className:v.root,children:[Object(r.jsx)("img",{src:it,alt:"mtg",className:v.titleLogo}),Object(r.jsxs)("form",{onSubmit:T((function(e){var t=e.username,r=e.password;if(r!==e.confirmPassword)return h("Both passwords need to match.");A({variables:{username:t,password:r},update:function(e,t){var r=t.data;I(r.register),w("Welcome, ".concat(r.register.username,"! You've successfully registered.")),R(),n()}})})),children:[Object(r.jsx)("div",{className:v.inputField,children:Object(r.jsx)(jt.a,{required:!0,fullWidth:!0,inputRef:E,name:"username",type:"text",label:"Username",variant:"outlined",size:"small",error:"username"in k,helperText:"username"in k?k.username.message:"",InputProps:{startAdornment:Object(r.jsx)(pt.a,{position:"start",children:Object(r.jsx)(ht.a,{color:"primary"})})}})}),Object(r.jsx)("div",{className:v.inputField,children:Object(r.jsx)(jt.a,{required:!0,fullWidth:!0,inputRef:E,name:"password",type:s?"text":"password",label:"Password",variant:"outlined",size:"small",error:"password"in k,helperText:"password"in k?k.password.message:"",InputProps:{endAdornment:Object(r.jsx)(pt.a,{position:"end",children:Object(r.jsx)(u.a,{onClick:function(){return d((function(e){return!e}))},size:"small",children:s?Object(r.jsx)(It.a,{color:"secondary"}):Object(r.jsx)(Ct.a,{color:"secondary"})})}),startAdornment:Object(r.jsx)(pt.a,{position:"start",children:Object(r.jsx)(xt.a,{color:"primary"})})}})}),Object(r.jsx)("div",{className:v.inputField,children:Object(r.jsx)(jt.a,{required:!0,fullWidth:!0,inputRef:E,name:"confirmPassword",type:f?"text":"password",label:"Confirm Password",variant:"outlined",size:"small",error:"confirmPassword"in k,helperText:"confirmPassword"in k?k.confirmPassword.message:"",InputProps:{endAdornment:Object(r.jsx)(pt.a,{position:"end",children:Object(r.jsx)(u.a,{onClick:function(){return y((function(e){return!e}))},size:"small",children:f?Object(r.jsx)(It.a,{color:"secondary"}):Object(r.jsx)(Ct.a,{color:"secondary"})})}),startAdornment:Object(r.jsx)(pt.a,{position:"start",children:Object(r.jsx)(Rt.a,{color:"primary"})})}})}),Object(r.jsx)(bt.a,{color:"primary",variant:"contained",size:"large",fullWidth:!0,startIcon:Object(r.jsx)(Bt.a,{}),type:"submit",disabled:S,children:"Sign Up || Become a Commander"})]}),Object(r.jsxs)(b.a,{variant:"body1",className:v.footerText,children:["Already a Commander?"," ",Object(r.jsx)(O.a,{onClick:function(){return t("login")},className:v.link,children:"Log In"})]}),Object(r.jsx)(at,{errorMsg:p,clearErrorMsg:function(){return h(null)}})]})};function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Mt=a.createElement("g",null,a.createElement("g",null,a.createElement("polygon",{points:"106.667,53.333 0,160 213.333,160  "}))),zt=a.createElement("g",null),Wt=a.createElement("g",null),$t=a.createElement("g",null),qt=a.createElement("g",null),Lt=a.createElement("g",null),Ut=a.createElement("g",null),_t=a.createElement("g",null),Ft=a.createElement("g",null),Vt=a.createElement("g",null),Gt=a.createElement("g",null),Ht=a.createElement("g",null),Qt=a.createElement("g",null),Yt=a.createElement("g",null),Jt=a.createElement("g",null),Kt=a.createElement("g",null);function Zt(e,t){var n=e.title,r=e.titleId,o=Dt(e,["title","titleId"]);return a.createElement("svg",St({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 213.333 213.333",style:{enableBackground:"new 0 0 213.333 213.333"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,Mt,zt,Wt,$t,qt,Lt,Ut,_t,Ft,Vt,Gt,Ht,Qt,Yt,Jt,Kt)}var Xt=a.forwardRef(Zt);n.p;function en(){return(en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var nn=a.createElement("g",null,a.createElement("g",null,a.createElement("polygon",{points:"0,53.333 106.667,160 213.333,53.333  "}))),rn=a.createElement("g",null),an=a.createElement("g",null),on=a.createElement("g",null),cn=a.createElement("g",null),sn=a.createElement("g",null),ln=a.createElement("g",null),dn=a.createElement("g",null),un=a.createElement("g",null),mn=a.createElement("g",null),jn=a.createElement("g",null),pn=a.createElement("g",null),bn=a.createElement("g",null),On=a.createElement("g",null),hn=a.createElement("g",null),gn=a.createElement("g",null);function xn(e,t){var n=e.title,r=e.titleId,o=tn(e,["title","titleId"]);return a.createElement("svg",en({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 213.333 213.333",style:{enableBackground:"new 0 0 213.333 213.333"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,nn,rn,an,on,cn,sn,ln,dn,un,mn,jn,pn,bn,On,hn,gn)}var fn=a.forwardRef(xn),yn=(n.p,n(181)),vn=n(8),In=n(269),wn=n(270),Cn=n(271),Nn=Object(vn.a)((function(e){return{root:{margin:0,paddingBottom:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.primary.main}}}))((function(e){var t=e.children,n=e.classes,a=e.onClose,o=Object(yn.a)(e,["children","classes","onClose"]);return Object(r.jsxs)(In.a,Object(qe.a)(Object(qe.a)({disableTypography:!0,className:n.root},o),{},{children:[Object(r.jsx)(b.a,{variant:"h6",children:t}),a?Object(r.jsx)(u.a,{"aria-label":"close",className:n.closeButton,onClick:a,children:Object(r.jsx)(W.a,{})}):null]}))})),En=(Object(vn.a)((function(e){return{root:{padding:e.spacing(2)}}}))(wn.a),Object(vn.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(Cn.a),n(272)),Tn=n(108),Rn=n(288),kn=n(65),Bn=function(e){var t=e.closeMenu,n=e.buttonType,o=Object(a.useState)(!1),c=Object(i.a)(o,2),s=c[0],l=c[1],d=Object(a.useState)("login"),m=Object(i.a)(d,2),p=m[0],b=m[1],h=C(),g=Object(kn.a)(),x=Object(En.a)(g.breakpoints.down("xs")),f=function(){b("login"),l(!0),"mobile"===n&&t()},y=function(){b("signup"),l(!0),"mobile"===n&&t()},v=function(){l(!1)};return Object(r.jsxs)("div",{style:{display:"inline"},children:["ask"===n?Object(r.jsx)(bt.a,{variant:"contained",color:"primary",size:x?"small":"medium",style:{minWidth:"9em"},onClick:f,children:"Command Post"}):"link"===n?Object(r.jsx)(O.a,{onClick:f,style:{cursor:"pointer"},children:"Add your own Command Post"}):"upvote"===n?Object(r.jsx)(u.a,{onClick:f,children:Object(r.jsx)(Tn.a,{className:h.upDownIcon,children:Object(r.jsx)(Xt,{})})}):"downvote"===n?Object(r.jsx)(u.a,{onClick:f,children:Object(r.jsx)(Tn.a,{className:h.upDownIcon,children:Object(r.jsx)(fn,{})})}):"mobile"===n?Object(r.jsxs)("div",{children:[Object(r.jsxs)(j.a,{onClick:f,children:[Object(r.jsx)(yt.a,{className:h.menuIcon}),"Log In"]}),Object(r.jsxs)(j.a,{onClick:y,children:[Object(r.jsx)(Bt.a,{className:h.menuIcon}),"Sign Up || Become a Commander"]})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)(bt.a,{color:"primary",variant:"outlined",size:"small",style:{marginRight:7},onClick:f,children:"Log In"}),Object(r.jsx)(bt.a,{color:"primary",variant:"contained",size:"small",onClick:y,children:"Sign Up || Become a Commander"})]}),Object(r.jsxs)(Rn.a,{open:s,onClose:v,maxWidth:"sm",classes:{paper:h.dialogWrapper},children:[Object(r.jsx)(Nn,{onClose:v}),Object(r.jsx)(wn.a,{children:"login"===p?Object(r.jsx)(Et,{setAuthType:b,closeModal:v}):Object(r.jsx)(At,{setAuthType:b,closeModal:v})})]})]})},Pn=n(291),An=n(136),Sn=n.n(An),Dn=n(126),Mn=n.n(Dn),zn=n(127),Wn=n.n(zn),$n=function(e){var t=e.user,n=e.logoutUser,o=Object(a.useState)(null),c=Object(i.a)(o,2),l=c[0],d=c[1],p=y(),b=function(e){d(e.currentTarget)},O=function(){d(null)};return Object(r.jsxs)("div",{children:[t?Object(r.jsxs)(u.a,{onClick:b,className:p.userBtnMob,children:[Object(r.jsx)(Pn.a,{alt:t.username,src:"https://secure.gravatar.com/avatar/".concat(t.id,"?s=164&d=identicon"),className:p.avatar}),Object(r.jsx)(Sn.a,{color:"primary"})]}):Object(r.jsx)(u.a,{onClick:b,color:"primary",className:p.moreBtn,children:Object(r.jsx)(Sn.a,{color:"primary"})}),Object(r.jsx)(m.a,{anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(l),onClose:O,marginThreshold:0,elevation:1,children:t?Object(r.jsxs)("div",{children:[Object(r.jsxs)(j.a,{component:s.b,to:"/user/".concat(t.username),onClick:O,children:[Object(r.jsx)(Mn.a,{className:p.menuIcon}),"Command Tower"]}),Object(r.jsxs)(j.a,{onClick:function(){n(),O()},children:[Object(r.jsx)(Wn.a,{className:p.menuIcon}),"Logout: ",t.username]})]}):Object(r.jsx)(Bn,{buttonType:"mobile",closeMenu:O})})]})},qn=n(169),Ln=n.n(qn),Un=function(e){var t=e.user,n=e.logoutUser,o=Object(a.useState)(null),c=Object(i.a)(o,2),l=c[0],d=c[1],u=y(),p=function(){d(null)};return Object(r.jsx)("div",{children:t?Object(r.jsxs)("div",{style:{display:"inline"},children:[Object(r.jsxs)(bt.a,{className:u.userBtn,onClick:function(e){d(e.currentTarget)},endIcon:Object(r.jsx)(Ln.a,{}),children:[Object(r.jsx)(Pn.a,{alt:t.username,src:"https://secure.gravatar.com/avatar/".concat(t.id,"?s=164&d=identicon"),className:u.avatar}),Object(r.jsx)(b.a,{color:"secondary",variant:"body2",children:t.username})]}),Object(r.jsxs)(m.a,{anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(l),onClose:p,elevation:1,children:[Object(r.jsxs)(j.a,{component:s.b,to:"/user/".concat(t.username),onClick:p,children:[Object(r.jsx)(Mn.a,{className:u.menuIcon}),"Command Tower"]}),Object(r.jsxs)(j.a,{onClick:function(){n(),p()},children:[Object(r.jsx)(Wn.a,{className:u.menuIcon}),"Logout"]})]})]}):Object(r.jsx)(Bn,{})})},_n=n(78),Fn=n.n(_n),Vn=n(170),Gn=n.n(Vn),Hn=function(e){var t=e.isMobile,n=e.setSearchOpen,o=Object(a.useState)(""),c=Object(i.a)(o,2),s=c[0],l=c[1],m=Object(d.g)(),j=f();return Object(r.jsx)("div",{className:j.searchBar,children:Object(r.jsx)("form",{onSubmit:function(e){e.preventDefault(),""!==s&&m.push("/search/".concat(s))},children:Object(r.jsx)(jt.a,{type:"search",size:"small",placeholder:"Search for posts\u2026",value:s,onChange:function(e){return l(e.target.value)},variant:"outlined",fullWidth:!0,InputProps:{startAdornment:Object(r.jsx)(pt.a,{position:"start",children:Object(r.jsx)(Fn.a,{color:"primary"})}),endAdornment:(s||t)&&Object(r.jsx)(pt.a,{position:"end",children:Object(r.jsx)(u.a,{color:"primary",size:"small",onClick:function(){t&&n(!1),l("")},children:Object(r.jsx)(Gn.a,{})})})}})})})},Qn=n(171),Yn=n.n(Qn),Jn=n(172),Kn=n.n(Jn),Zn=function(){var e=tt(),t=e.darkMode,n=e.toggleDarkMode,a=f();return Object(r.jsx)(u.a,{color:"primary",onClick:function(){return n()},className:a.iconBtn,children:t?Object(r.jsx)(Yn.a,{}):Object(r.jsx)(Kn.a,{})})},Xn=n(273),er=n(274),tr=n(275),nr=n(173),rr=n.n(nr),ar=n(174),or=n.n(ar),cr=function(){var e=Ke(),t=e.user,n=e.logoutUser,o=Object(a.useState)(!1),c=Object(i.a)(o,2),d=c[0],m=c[1],j=Object(l.useApolloClient)(),p=f(),h=Object(kn.a)(),g=Object(En.a)(h.breakpoints.down("xs"));Object(a.useEffect)((function(){!g&&d&&m(!1)}),[g]);var x=function(){n(),j.resetStore()};return Object(r.jsx)(Xn.a,{position:"sticky",color:"inherit",elevation:1,className:p.appBar,children:Object(r.jsxs)(er.a,{variant:"dense",disableGutters:g,children:[!d&&Object(r.jsxs)(tr.a,{disableGutters:!0,className:p.contentContainer,children:[Object(r.jsxs)("div",{className:p.leftPortion,children:[Object(r.jsxs)("div",{className:p.logoWrapper,children:[g&&Object(r.jsx)(H,{}),g?Object(r.jsx)(u.a,{className:p.logo,component:s.b,to:"/",children:Object(r.jsx)("img",{src:it,width:"96px",alt:"mtg-logo"})}):Object(r.jsxs)(bt.a,{className:p.logo,component:s.b,to:"/",size:"large",children:[Object(r.jsx)("img",{src:it,width:"96px",alt:"mtg-logo",style:{marginRight:"5px"}}),"MTG",Object(r.jsx)("strong",{children:"Social"})]}),!g&&Object(r.jsxs)(b.a,{variant:"caption",color:"secondary",children:["|",Object(r.jsx)(rr.a,{style:{fontSize:15,color:"red"}}),Object(r.jsx)(O.a,{href:"https://github.com/rjhelm",color:"inherit",target:"_blank",rel:"noopener",children:Object(r.jsx)("strong",{children:" ryanj_dev"})})]})]}),!g&&Object(r.jsx)(Hn,{})]}),g?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.a,{color:"primary",className:p.searchBtn,onClick:function(){return m((function(e){return!e}))},children:Object(r.jsx)(or.a,{})}),Object(r.jsx)(Zn,{}),Object(r.jsx)($n,{user:t,logoutUser:x})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Un,{user:t,logoutUser:x}),Object(r.jsx)(Zn,{})]})]}),d&&g&&Object(r.jsx)(Hn,{isMobile:g,setSearchOpen:m})]})})},ir=n(289),sr=function(){var e=tt(),t=e.notification,n=e.clearNotif;if(!(null===t||void 0===t?void 0:t.message))return null;var a=t.message,o=t.severity;return Object(r.jsx)(ir.a,{open:!!t,onClose:function(){return n()},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(r.jsx)(nt.a,{onClose:function(){return n()},severity:o,children:a})})},lr=n(276),dr=function(){var e=Object(d.h)().pathname,t=y(),n=Object(kn.a)();return Object(En.a)(n.breakpoints.down("xs"))?null:Object(r.jsx)(lr.a,{item:!0,children:Object(r.jsxs)("div",{className:t.rootPanel,children:[Object(r.jsxs)("div",{className:t.list,children:[Object(r.jsxs)(j.a,{selected:"/"===e||!e.startsWith("/tag")&&!e.startsWith("/user"),component:s.b,to:"/",children:[Object(r.jsx)(q.a,{className:t.menuIcon}),"MTG-Social"]}),Object(r.jsxs)(j.a,{selected:e.startsWith("/tag"),component:s.b,to:"/tags",children:[Object(r.jsx)(U.a,{className:t.menuIcon}),"Tags"]}),Object(r.jsxs)(j.a,{selected:e.startsWith("/user"),component:s.b,to:"/users",children:[Object(r.jsx)(F.a,{className:t.menuIcon}),"Commanders"]})]}),Object(r.jsx)(p.a,{orientation:"vertical",flexItem:!0})]})})};function ur(){var e=Object(Y.a)(["\n  query {\n    getAllUsers {\n      id\n      username\n      createdAt\n    }\n  }\n"]);return ur=function(){return e},e}function mr(){var e=Object(Y.a)(["\n  query {\n    getAllTags {\n      tagName\n      count\n    }\n  }\n"]);return mr=function(){return e},e}function jr(){var e=Object(Y.a)(["\n  query fetchUser($username: String!) {\n    getUser(username: $username) {\n      id\n      username\n      role\n      createdAt\n      reputation\n      totalPosts\n      totalReplies\n      recentPosts {\n        id\n        title\n        points\n        createdAt\n      }\n      recentReplies {\n        id\n        title\n        points\n        createdAt\n      }\n    }\n  }\n"]);return jr=function(){return e},e}function pr(){var e=Object(Y.a)(["\n  query fetchPost($postId: ID!) {\n    viewPost(postId: $postId) {\n      id\n      author {\n        ...AuthorDetails\n      }\n      title\n      body\n      tags\n      points\n      views\n      createdAt\n      updatedAt\n      replies {\n        ...ReplyDetails\n      }\n      author {\n        ...AuthorDetails\n      }\n      comments {\n        ...CommentDetails\n      }\n      acceptedReply\n      upvotedBy\n      downvotedBy\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return pr=function(){return e},e}function br(){var e=Object(Y.a)(["\n  query fetchPosts(\n    $sortBy: SortByType!\n    $page: Int!\n    $limit: Int!\n    $filterByTag: String\n    $filterBySearch: String\n  ) {\n    getPosts(\n      sortBy: $sortBy\n      page: $page\n      limit: $limit\n      filterByTag: $filterByTag\n      filterBySearch: $filterBySearch\n    ) {\n      next {\n        page\n      }\n      previous {\n        page\n      }\n      posts {\n        id\n        author {\n          ...AuthorDetails\n        }\n        title\n        body\n        tags\n        points\n        views\n        createdAt\n        updatedAt\n        replyCount\n      }\n    }\n  }\n  ","\n"]);return br=function(){return e},e}var Or=Object(l.gql)(br(),te),hr=Object(l.gql)(pr(),re,ne,te),gr=Object(l.gql)(jr()),xr=Object(l.gql)(mr()),fr=Object(l.gql)(ur()),yr=n(277),vr=function(e){var t=e.size,n=e.marginTop;return Object(r.jsx)("div",{style:{textAlign:"center",marginTop:n||"3em",marginBottom:"1em"},children:Object(r.jsx)(yr.a,{disableShrink:!0,size:t||40})})},Ir=n(292),wr=function(){var e=I(),t=tt().notify,n=Object(kn.a)(),a=Object(En.a)(n.breakpoints.down("sm")),o=Object(l.useQuery)(xr,{onError:function(e){t(mt(e),"error")}}),c=o.data,i=o.loading;return a?null:Object(r.jsx)(lr.a,{item:!0,children:Object(r.jsx)("div",{className:e.rootPanel,children:Object(r.jsx)("div",{className:e.content,children:Object(r.jsxs)("div",{className:e.tagsColumn,children:[Object(r.jsx)(b.a,{variant:"h6",color:"secondary",children:"Command Post Top Tags"}),!i&&c?Object(r.jsx)("div",{className:e.tagsWrapper,children:c.getAllTags.slice(0,26).map((function(t){return Object(r.jsxs)("div",{children:[Object(r.jsx)(Ir.a,{label:t.tagName.length>13?t.tagName.slice(0,13)+"...":t.tagName,variant:"outlined",color:"primary",size:"small",component:s.b,to:"/tags/".concat(t.tagName),className:e.tag,clickable:!0}),Object(r.jsx)(b.a,{color:"secondary",variant:"caption",children:" \xd7 ".concat(t.count)})]},t.tagName)}))}):Object(r.jsx)("div",{style:{minWidth:"200px"},children:Object(r.jsx)(vr,{size:40})})]})})})})},Cr=n(278),Nr=function(e){var t=e.isMobile,n=e.sortBy,a=e.setSortBy,o=v(),c=function(e){a(e.target.innerText.toUpperCase())};return Object(r.jsx)("div",{className:o.btnGroupWrapper,children:Object(r.jsxs)(Cr.a,{color:"secondary",disableElevation:!0,size:t?"small":"medium",fullWidth:t,children:[Object(r.jsx)(bt.a,{variant:"HOT"===n?"contained":"outlined",onClick:c,children:"Hot"}),Object(r.jsx)(bt.a,{variant:"VOTES"===n?"contained":"outlined",onClick:c,children:"Votes"}),Object(r.jsx)(bt.a,{variant:"VIEWS"===n?"contained":"outlined",onClick:c,children:"Views"}),Object(r.jsx)(bt.a,{variant:"NEWEST"===n?"contained":"outlined",onClick:c,children:"Newest"}),Object(r.jsx)(bt.a,{variant:"OLDEST"===n?"contained":"outlined",onClick:c,children:"Oldest"})]})})},Er=function(e){var t=e.username,n=e.userId,a=e.createdAt,o=e.updatedAt,c=e.filledVariant,i=e.isReply,l=w();return Object(r.jsxs)("div",{className:c?l.filledByUser:l.byUserWrapper,children:[Object(r.jsx)(Pn.a,{src:"https://secure.gravatar.com/avatar/".concat(n,"?s=164&d=identicon"),alt:t,className:c?l.postReplyAvatar:l.homeAvatar,component:s.b,to:"/user/".concat(t)}),Object(r.jsxs)("div",{children:[Object(r.jsx)(b.a,{variant:"caption",color:"secondary",children:c?"".concat(i?"replied":"posted"," ").concat(ut(a)):"posted ".concat(dt(a)," ago")}),Object(r.jsx)("br",{}),c&&a!==o&&Object(r.jsx)(b.a,{variant:"caption",color:"secondary",children:"updated ".concat(ut(o))}),Object(r.jsx)(O.a,{component:s.b,to:"/user/".concat(t),children:Object(r.jsx)(b.a,{variant:"body2",children:t})})]})]})},Tr=n(216),Rr=function(e){var t=e.post,n=w(),a=t.id,o=t.title,c=t.author,i=t.body,l=t.tags,d=t.points,u=t.views,m=t.replyCount,j=t.createdAt;return Object(r.jsxs)(Tr.a,{elevation:0,className:n.root,children:[Object(r.jsxs)("div",{className:n.infoWrapper,children:[Object(r.jsxs)("div",{className:n.innerInfo,children:[Object(r.jsx)(b.a,{variant:"body2",className:n.mainText,children:d}),Object(r.jsx)(b.a,{variant:"caption",children:"Votes"})]}),Object(r.jsxs)("div",{className:n.innerInfo,children:[Object(r.jsx)(b.a,{variant:"body2",className:n.mainText,children:m}),Object(r.jsx)(b.a,{variant:"caption",children:"Replies"})]}),Object(r.jsxs)(b.a,{variant:"caption",noWrap:!0,children:[u," Views"]})]}),Object(r.jsxs)("div",{className:n.quesDetails,children:[Object(r.jsx)(b.a,{variant:"body2",color:"secondary",className:n.title,component:s.b,to:"/posts/".concat(a),children:o}),Object(r.jsx)(b.a,{variant:"body2",style:{wordWrap:"anywhere"},children:i.length>150?i.slice(0,150)+"...":i}),Object(r.jsxs)("div",{className:n.bottomWrapper,children:[Object(r.jsx)("div",{className:n.tagsWrapper,children:l.map((function(e){return Object(r.jsx)(Ir.a,{label:e,variant:"outlined",color:"primary",size:"small",component:s.b,to:"/tags/".concat(e),className:n.tag,clickable:!0},e)}))}),Object(r.jsx)(Er,{username:c.username,userId:c.id,createdAt:j})]})]})]})},kr=n(175),Br=n.n(kr),Pr=function(e){var t=e.handleLoadPosts,n=e.loading,a=v();return Object(r.jsx)("div",{className:a.loadBtnWrapper,children:Object(r.jsxs)(bt.a,{color:"primary",variant:"outlined",size:"large",onClick:t,startIcon:!n&&Object(r.jsx)(Br.a,{}),className:a.loadBtn,disabled:n,children:[n&&Object(r.jsx)(yr.a,{disableShrink:!0,size:22,style:{marginRight:"1em"}}),n?"Loading...":"Load More"]})})},Ar=function(e){var t=e.tagFilterActive,n=e.searchFilterActive,o=Object(d.i)(),c=o.tagName,u=o.query,m=tt(),j=m.clearEdit,O=m.notify,h=Ke().user,g=Object(a.useState)(null),x=Object(i.a)(g,2),f=x[0],y=x[1],I=Object(a.useState)("HOT"),w=Object(i.a)(I,2),C=w[0],N=w[1],E=Object(a.useState)(1),T=Object(i.a)(E,2),R=T[0],k=T[1],B=v(),P=Object(kn.a)(),A=Object(En.a)(P.breakpoints.down("xs")),S=Object(l.useLazyQuery)(Or,{fetchPolicy:"network-only",onError:function(e){O(mt(e),"error")}}),D=Object(i.a)(S,2),M=D[0],z=D[1],W=z.data,$=z.loading,q=function(e,t,n,r,a){M({variables:{sortBy:e,page:t,limit:n,filterByTag:r,filterBySearch:a}})};Object(a.useEffect)((function(){q(C,1,12,c,u),k(1),window.scrollTo(0,0)}),[C,c,u]),Object(a.useEffect)((function(){W&&1===R&&y(W.getPosts),W&&1!==R&&y((function(e){return Object(qe.a)(Object(qe.a)({},W.getPosts),{},{posts:e.posts.concat()})}))}),[W]);return Object(r.jsxs)("div",{className:B.root,children:[Object(r.jsxs)("div",{className:B.topBar,children:[Object(r.jsx)(b.a,{variant:A?"h6":"h5",color:"secondary",style:{wordWrap:"anywhere"},children:t?"Posts tagged [".concat(c,"]"):n?'Search results for "'.concat(u,'"'):"All Posts"}),h?Object(r.jsx)(bt.a,{variant:"contained",color:"primary",size:A?"small":"medium",component:s.b,to:"/ask",onClick:function(){return j()},style:{minWidth:"9em"},children:"Command Post"}):Object(r.jsx)(Bn,{buttonType:"ask"})]}),Object(r.jsx)(Nr,{isMobile:A,sortBy:C,setSortBy:N}),Object(r.jsx)(p.a,{}),$&&1===R&&Object(r.jsx)("div",{style:{minWidth:"100%",marginTop:"1em"},children:Object(r.jsx)(vr,{size:60})}),f&&(0!==f.posts.length?f.posts.map((function(e){return Object(r.jsx)(Rr,{post:e},e.id)})):Object(r.jsx)(b.a,{color:"secondary",variant:"h6",className:B.noPostText,children:t?'There are no posts tagged "'.concat(c,'".'):n?'No matches found for your search "'.concat(u,'".'):"No posts found."})),f&&f.next&&Object(r.jsx)(Pr,{loading:1!==R&&$,handleLoadPosts:function(){q(C,R+1,12,c,u),k(R+1)}})]})},Sr=function(){var e=tt().notify,t=Object(l.useQuery)(xr,{onError:function(t){e(mt(t),"error")}}),n=t.data,o=t.loading,c=Object(a.useState)(""),d=Object(i.a)(c,2),u=d[0],m=d[1],j=E();return Object(r.jsxs)("div",{className:j.root,children:[Object(r.jsx)(b.a,{variant:"h5",className:j.titleText,color:"secondary",children:"Tags"}),Object(r.jsxs)(b.a,{variant:"body1",children:["Use the tags to let other Commanders know what your post is about. If looking for a game ",Object(r.jsx)("br",{}),"Specify power level and where, deck discussion, card discussion, etc."]}),Object(r.jsx)(jt.a,{className:j.filterInput,value:u,placeholder:"Filter by tag name",onChange:function(e){return m(e.target.value)},variant:"outlined",size:"small",InputProps:{startAdornment:Object(r.jsx)(pt.a,{position:"start",children:Object(r.jsx)(Fn.a,{color:"primary"})})}}),!o&&n?Object(r.jsx)("div",{className:j.tagsWrapper,children:n.getAllTags.filter((function(e){return e.tagName.toLowerCase().includes(u.toLowerCase())})).map((function(e){return Object(r.jsxs)("div",{className:j.tagBox,children:[Object(r.jsx)(Ir.a,{label:e.tagName,variant:"outlined",color:"primary",size:"small",component:s.b,to:"/tags/".concat(e.tagName),className:j.tag,clickable:!0}),Object(r.jsxs)(b.a,{variant:"caption",color:"secondary",children:[e.count," questions"]})]},e.tagName)}))}):Object(r.jsx)("div",{style:{minWidth:"100%"},children:Object(r.jsx)(vr,{size:80})})]})},Dr=function(){var e=tt().notify,t=Object(l.useQuery)(fr,{onError:function(t){e(mt(t),"error")}}),n=t.data,o=t.loading,c=Object(a.useState)(""),d=Object(i.a)(c,2),u=d[0],m=d[1],j=T();return Object(r.jsxs)("div",{className:j.root,children:[Object(r.jsx)(b.a,{variant:"h5",color:"secondary",children:"Users"}),Object(r.jsx)(jt.a,{className:j.filterInput,value:u,placeholder:"Filter by username",onChange:function(e){return m(e.target.value)},variant:"outlined",size:"small",InputProps:{startAdornment:Object(r.jsx)(pt.a,{position:"start",children:Object(r.jsx)(Fn.a,{color:"primary"})})}}),!o&&n?Object(r.jsx)("div",{className:j.usersWrapper,children:n.getAllUsers.filter((function(e){return e.username.toLowerCase().includes(u.toLowerCase())})).map((function(e){return Object(r.jsxs)("div",{className:j.userBox,children:[Object(r.jsx)(Pn.a,{src:"https://secure.gravatar.com/avatar/".concat(e.id,"?s=164&d=identicon"),alt:e.username,className:j.avatar,component:s.b,to:"/user/".concat(e.username)}),Object(r.jsxs)("div",{children:[Object(r.jsx)(O.a,{component:s.b,to:"/user/".concat(e.username),children:Object(r.jsx)(b.a,{variant:"body2",children:e.username})}),Object(r.jsxs)(b.a,{variant:"caption",children:["created ",dt(e.createdAt)," ago"]})]})]},e.id)}))}):Object(r.jsx)("div",{style:{minWidth:"100%"},children:Object(r.jsx)(vr,{size:80})})]})},Mr=n(287),zr=function(e){var t=e.checked,n=e.handleUpvote,a=P();return Object(r.jsx)(Mr.a,{checked:t,icon:Object(r.jsx)(Tn.a,{className:a.icon,children:Object(r.jsx)(Xt,{})}),checkedIcon:Object(r.jsx)(Tn.a,{className:a.checkedIcon,children:Object(r.jsx)(Xt,{})}),onChange:n})},Wr=function(e){var t=e.checked,n=e.handleDownvote,a=P();return Object(r.jsx)(Mr.a,{checked:t,icon:Object(r.jsx)(Tn.a,{className:a.icon,children:Object(r.jsx)(fn,{})}),checkedIcon:Object(r.jsx)(Tn.a,{className:a.checkedIcon,children:Object(r.jsx)(fn,{})}),onChange:n})},$r=n(279),qr=function(e){var t=e.handleDelete,n=e.bodyType,o=Object(a.useState)(!1),c=Object(i.a)(o,2),s=c[0],l=c[1],d=R(),u=function(){l(!0)},m=function(){l(!1)};return Object(r.jsxs)("div",{style:{display:"inline"},children:["comment"===n?Object(r.jsx)(bt.a,{size:"small",color:"primary",className:d.commentBtns,onClick:u,children:"Delete"}):Object(r.jsx)(bt.a,{size:"small",color:"primary",variant:"contained",className:d.bottomBtns,onClick:u,children:"Delete"}),Object(r.jsxs)(Rn.a,{open:s,onClose:m,children:[Object(r.jsx)(In.a,{children:"Confirm Delete"}),Object(r.jsx)(wn.a,{children:Object(r.jsx)($r.a,{children:"Are you sure you want to delete your ".concat(n||"Post","?")})}),Object(r.jsxs)(Cn.a,{children:[Object(r.jsx)(bt.a,{autoFocus:!0,onClick:m,color:"primary",children:"Cancel"}),Object(r.jsx)(bt.a,{onClick:function(){t(),m()},color:"primary",children:"Delete"})]})]})]})},Lr=n(176),Ur=n.n(Lr),_r=function(e){var t=e.comment,n=e.user,o=e.postReplyId,c=e.editComment,l=e.deleteComment,d=Object(a.useState)(!1),u=Object(i.a)(d,2),m=u[0],j=u[1],p=Object(a.useState)(t.body),h=Object(i.a)(p,2),g=h[0],x=h[1],f=R();Object(a.useEffect)((function(){x(t.body)}),[t]);return Object(r.jsx)("div",{className:f.commentWrapper,children:m?Object(r.jsxs)("form",{className:f.smallForm,onSubmit:function(e){e.preventDefault(),c(g,t.id,o),j(!1)},children:[Object(r.jsx)(jt.a,{value:g,required:!0,fullWidth:!0,type:"text",placeholder:"Enter at least 5 characters",variant:"outlined",size:"small",multiline:!0,rows:2,onChange:function(e){return x(e.target.value)}}),Object(r.jsxs)("div",{className:f.submitCancelBtns,children:[Object(r.jsx)(bt.a,{type:"submit",size:"small",variant:"contained",color:"primary",style:{marginRight:9},children:"Update Comment"}),Object(r.jsx)(bt.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return j(!1)},children:"Cancel"})]})]}):Object(r.jsxs)("div",{children:[Object(r.jsxs)(b.a,{variant:"caption",style:{wordWrap:"anywhere"},children:[t.body," \u2013"," ",Object(r.jsx)(O.a,{component:s.b,to:"/user/".concat(t.author.username),children:t.author.username}),Object(r.jsx)(b.a,{variant:"caption",color:"secondary",children:" ".concat(ut(t.createdAt)," ")}),t.createdAt!==t.updatedAt&&Object(r.jsx)(Ur.a,{fontSize:"inherit",color:"secondary"})]}),n&&n.id===t.author.id&&Object(r.jsx)(bt.a,{size:"small",color:"primary",className:f.commentBtns,onClick:function(){return j(!0)},children:"Edit Comment"}),n&&(n.id===t.author.id||"ADMIN"===n.role)&&Object(r.jsx)(qr,{bodyType:"comment",handleDelete:function(){return l(t.id,o)}})]})})},Fr=ot.a({commentBody:ot.b().min(5,"Must be at least 5 characters")}),Vr=function(e){var t=e.user,n=e.comments,o=e.addComment,c=e.editComment,s=e.deleteComment,l=e.postReplyId,d=R(),u=Object(a.useState)(!0),m=Object(i.a)(u,2),j=m[0],b=m[1],O=Object(a.useState)(!1),h=Object(i.a)(O,2),g=h[0],x=h[1],f=Object(Q.useForm)({mode:"onChange",resolver:Object(ct.yupResolver)(Fr)}),y=f.register,v=f.handleSubmit,I=f.reset,w=f.errors,C=function(){b(!1)},N=j?n.slice(0,3):n;return Object(r.jsxs)("div",{className:d.commentSection,children:[0!==n.length&&Object(r.jsx)(p.a,{}),N.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(_r,{comment:e,user:t,postReplyId:l,editComment:c,deleteComment:s}),Object(r.jsx)(p.a,{})]},e.id)})),N.length!==n.length?Object(r.jsxs)(bt.a,{size:"small",color:"primary",onClick:C,children:["show ",n.length-N.length," more comments"]}):t&&!g&&Object(r.jsx)(bt.a,{size:"small",color:"primary",onClick:function(){return x(!0)},children:"Post Comment"}),g&&Object(r.jsxs)("form",{className:d.smallForm,onSubmit:v((function(e){var t=e.commentBody;o(t,l),C(),x(!1),I()})),children:[Object(r.jsx)(jt.a,{inputRef:y,name:"commentBody",required:!0,fullWidth:!0,type:"text",placeholder:"Enter at least 5 characters",variant:"outlined",size:"small",multiline:!0,rows:3,error:"commentBody"in w,helperText:"commentBody"in w?w.commentBody.message:""}),Object(r.jsxs)("div",{className:d.submitCancelBtns,children:[Object(r.jsx)(bt.a,{type:"submit",size:"small",variant:"contained",color:"primary",style:{marginRight:9},children:"Post Comment"}),Object(r.jsx)(bt.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return x(!1)},children:"Cancel"})]})]})]})};function Gr(){return(Gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Hr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Qr=a.createElement("path",{d:"M74.551,193.448L0,118.896l33.136-33.135l41.415,41.415L181.02,20.707l33.135,33.136L74.551,193.448z"}),Yr=a.createElement("g",null),Jr=a.createElement("g",null),Kr=a.createElement("g",null),Zr=a.createElement("g",null),Xr=a.createElement("g",null),ea=a.createElement("g",null),ta=a.createElement("g",null),na=a.createElement("g",null),ra=a.createElement("g",null),aa=a.createElement("g",null),oa=a.createElement("g",null),ca=a.createElement("g",null),ia=a.createElement("g",null),sa=a.createElement("g",null),la=a.createElement("g",null);function da(e,t){var n=e.title,r=e.titleId,o=Hr(e,["title","titleId"]);return a.createElement("svg",Gr({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 214.155 214.155",style:{enableBackground:"new 0 0 214.155 214.155"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,Qr,Yr,Jr,Kr,Zr,Xr,ea,ta,na,ra,aa,oa,ca,ia,sa,la)}var ua=a.forwardRef(da),ma=(n.p,function(e){var t=e.checked,n=e.handleAcceptAns,a=R();return Object(r.jsx)(Mr.a,{checked:t,icon:Object(r.jsx)(Tn.a,{className:a.acceptIcon,children:Object(r.jsx)(ua,{})}),checkedIcon:Object(r.jsx)(Tn.a,{className:a.checkedAcceptIcon,children:Object(r.jsx)(ua,{})}),onChange:n})}),ja=function(e){var t=e.postReply,n=e.upvotePostReply,o=e.downvotePostReply,c=e.editPostReply,l=e.deletePostReply,d=e.addComment,u=e.editComment,m=e.deleteComment,j=e.acceptReply,p=e.isReply,O=e.acceptedReply,h=e.postAuthor,g=t.id,x=t.author,f=t.body,y=t.tags,v=t.comments,I=t.points,w=t.upvotedBy,C=t.downvotedBy,N=t.createdAt,E=t.updatedAt,T=R(),k=Ke().user,B=Object(a.useState)(!1),P=Object(i.a)(B,2),A=P[0],S=P[1],D=Object(a.useState)(f),M=Object(i.a)(D,2),z=M[0],W=M[1];Object(a.useEffect)((function(){p&&W(f)}),[f]);return Object(r.jsxs)("div",{className:T.postReplyWrapper,children:[Object(r.jsxs)("div",{className:T.voteColumn,children:[k?Object(r.jsx)(zr,{checked:!!k&&w.includes(k.id),user:k,handleUpvote:n}):Object(r.jsx)(Bn,{buttonType:"upvote"}),Object(r.jsx)(b.a,{variant:"h6",color:"secondary",children:I}),k?Object(r.jsx)(Wr,{checked:!!k&&C.includes(k.id),user:k,handleDownvote:o}):Object(r.jsx)(Bn,{buttonType:"downvote"}),p&&k&&k.id===h.id&&Object(r.jsx)(ma,{checked:O===g,handleAcceptReply:j}),p&&O===g&&(!k||k.id!==h.id)&&Object(r.jsx)(Tn.a,{className:T.checkedAcceptIcon,children:Object(r.jsx)(ua,{})})]}),Object(r.jsxs)("div",{className:T.postBody,children:[A?Object(r.jsxs)("form",{className:T.smallForm,onSubmit:function(e){e.preventDefault(),c(z,g),S(!1)},children:[Object(r.jsx)(jt.a,{value:z,required:!0,fullWidth:!0,onChange:function(e){return W(e.target.value)},type:"text",placeholder:"Enter at least 30 characters",variant:"outlined",size:"small",multiline:!0,rows:4}),Object(r.jsxs)("div",{className:T.submitCancelBtns,children:[Object(r.jsx)(bt.a,{type:"submit",size:"small",variant:"contained",color:"primary",style:{marginRight:9},children:"Update Reply"}),Object(r.jsx)(bt.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return S(!1)},children:"Cancel"})]})]}):Object(r.jsx)(b.a,{variant:"body1",style:{wordWrap:"anywhere"},children:f}),y&&Object(r.jsx)("div",{className:T.tagsWrapper,children:y.map((function(e){return Object(r.jsx)(Ir.a,{label:e,variant:"outlined",color:"primary",size:"small",component:s.b,to:"/tags/".concat(e),className:T.tag,clickable:!0},e)}))}),Object(r.jsxs)("div",{className:T.bottomWrapper,children:[!A&&Object(r.jsxs)("div",{className:T.btnsWrapper,children:[k&&k.id===x.id&&Object(r.jsx)(bt.a,{size:"small",color:"primary",variant:"contained",style:{marginRight:6},className:T.bottomBtns,onClick:p?function(){S(!0)}:c,children:"Edit"}),k&&(k.id===x.id||"ADMIN"===k.role)&&Object(r.jsx)(qr,{bodyType:p?"reply":"post",handleDelete:l})]}),Object(r.jsx)(Er,{username:x.username,userId:x.id,createdAt:N,updatedAt:E,filledVariant:!0,isReply:p})]}),Object(r.jsx)(Vr,{user:k,comments:v,addComment:d,editComment:u,deleteComment:m,postReplyId:g})]})]})},pa=function(e){var t=e.isMobile,n=e.sortBy,a=e.setSortBy,o=function(e){a(e.target.innerText.toUpperCase())};return Object(r.jsx)("div",{children:Object(r.jsxs)(Cr.a,{color:"secondary",disableElevation:!0,size:t?"small":"medium",children:[Object(r.jsx)(bt.a,{variant:"VOTES"===n?"contained":"outlined",onClick:o,children:"Votes"}),Object(r.jsx)(bt.a,{variant:"NEWEST"===n?"contained":"outlined",onClick:o,children:"Newest"}),Object(r.jsx)(bt.a,{variant:"OLDEST"===n?"contained":"outlined",onClick:o,children:"Oldest"})]})})},ba=n(27),Oa=function(e,t,n){if("OLDEST"===e)return Object(ba.a)(t).sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)}));if("NEWEST"===e)return Object(ba.a)(t).sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}));var r=t.find((function(e){return e.id===n})),a=t.filter((function(e){return e.id!==n})).sort((function(e,t){return t.points-e.points}));return r?[r].concat(Object(ba.a)(a)):a},ha=function(e,t,n){var r,a;return e.includes(n.id)?(r=e.filter((function(e){return e!==n.id})),a=t):(r=[].concat(Object(ba.a)(e),[n.id]),a=t.filter((function(e){return e!==n.id}))),{updatedUpvotedArr:r,updatedDownvotedArr:a,updatedPoints:r.length-a.length}},ga=function(e,t,n){var r,a;return t.includes(n.id)?(a=t.filter((function(e){return e!==n.id})),r=e):(a=[].concat(Object(ba.a)(t),[n.id]),r=e.filter((function(e){return e!==n.id}))),{updatedUpvotedArr:r,updatedDownvotedArr:a,updatedPoints:r.length-a.length}},xa=function(e){var t=e.postId,n=e.replies,o=e.acceptedReply,c=e.postAuthor,s=Ke().user,d=tt().notify,u=R(),m=Object(kn.a)(),j=Object(En.a)(m.breakpoints.down("xs")),O=Object(a.useState)("VOTES"),h=Object(i.a)(O,2),g=h[0],x=h[1],f=Object(l.useMutation)(Ae,{onError:function(e){d(mt(e),"error")}}),y=Object(i.a)(f,1)[0],v=Object(l.useMutation)(Se,{onError:function(e){d(mt(e),"error")}}),I=Object(i.a)(v,1)[0],w=Object(l.useMutation)(De,{onError:function(e){d(mt(e),"error")}}),C=Object(i.a)(w,1)[0],N=Object(l.useMutation)(Me,{onError:function(e){d(mt(e),"error")}}),E=Object(i.a)(N,1)[0],T=Object(l.useMutation)(ze,{onError:function(e){d(mt(e),"error")}}),k=Object(i.a)(T,1)[0],B=Object(l.useMutation)(We,{onError:function(e){d(mt(e),"error")}}),P=Object(i.a)(B,1)[0],A=Object(l.useMutation)($e,{onError:function(e){d(mt(e),"error")}}),S=Object(i.a)(A,1)[0],D=function(e,n){y({variables:{postId:t,replyId:n,body:e},update:function(){d("Reply updated!")}})},M=function(e,n){k({variables:{postId:t,replyId:n,body:e},update:function(e,r){var a=r.data,o=e.readQuery({query:hr,variables:{postId:t}}),c=o.viewPost.replies.map((function(e){return e.id===n?Object(qe.a)(Object(qe.a)({},e),{},{comments:a.addReplyComment}):e})),i=Object(qe.a)(Object(qe.a)({},o.viewPost),{},{replies:c});e.writeQuery({query:hr,variables:{postId:t},data:{viewPost:i}}),d("Comment added to reply!")}})},z=function(e,n,r){P({variables:{postId:t,replyId:r,commentId:n,body:e},update:function(){d("Comment edited!")}})},W=function(e,n){S({variables:{postId:t,replyId:n,commentId:e},update:function(e,r){var a=r.data,o=e.readQuery({query:hr,variables:{postId:t}}),c=o.viewPost.replies.find((function(e){return e.id===n})).comments.filter((function(e){return e.id!==a.deleteReplyComment})),i=o.viewPost.replies.map((function(e){return e.id===n?Object(qe.a)(Object(qe.a)({},e),{},{comments:c}):e})),s=Object(qe.a)(Object(qe.a)({},o.viewPost),{},{replies:i});e.writeQuery({query:hr,variables:{postId:t},data:{viewPost:s}}),d("Comment deleted!")}})},$=Oa(g,n,o);return Object(r.jsxs)("div",{className:u.repliesWrapper,children:[0!==$.length&&Object(r.jsxs)("div",{className:u.replyHeader,children:[Object(r.jsxs)(b.a,{color:"secondary",variant:"h6",children:[$.length," ",1===$.length?"Reply":"Replies"]}),Object(r.jsx)(pa,{sortBy:g,setSortBy:x,isMobile:j})]}),Object(r.jsx)("div",{children:$.map((function(e){return Object(r.jsxs)("div",{className:u.replyWrapper,children:[Object(r.jsx)(ja,{postReply:e,upvotePostReply:function(){return function(e,n,r){var a=ha(n,r,s),o=a.updatedUpvotedArr,c=a.updatedDownvotedArr,i=a.updatedPoints;C({variables:{postId:t,replyId:e,voteType:"UPVOTE"},optimisticResponse:{__typename:"Mutation",voteReply:{__typename:"Reply",id:e,upvotedBy:o,downvotedBy:c,points:i}}})}(e.id,e.upvotedBy,e.downvotedBy)},downvotePostReply:function(){return function(e,n,r){var a=ga(n,r,s),o=a.updatedUpvotedArr,c=a.updatedDownvotedArr,i=a.updatedPoints;C({variables:{postId:t,replyId:e,voteType:"DOWNVOTE"},optimisticResponse:{__typename:"Mutation",voteReply:{__typename:"Reply",id:e,upvotedBy:o,downvotedBy:c,points:i}}})}(e.id,e.upvotedBy,e.downvotedBy)},editPostReply:D,deletePostReply:function(){return n=e.id,void I({variables:{postId:t,replyId:n},update:function(e,n){var r=n.data,a=e.readQuery({query:hr,variables:{postId:t}}),o=a.viewPost.replies.filter((function(e){return e.id!==r.deleteReply})),c=Object(qe.a)(Object(qe.a)({},a.viewPost),{},{replies:o});e.writeQuery({query:hr,variables:{postId:t},data:{viewPost:c}}),d("Reply deleted!")}});var n},acceptReply:function(){return n=e.id,void E({variables:{postId:t,replyId:n},optimisticResponse:{acceptReply:{id:t,acceptedReply:o===n?null:n,__typename:"Post"}},update:function(e,t){t.data.acceptReply.acceptedReply?d("Accepted the reply!"):d("Un-accepted the reply.")}});var n},addComment:M,editComment:z,deleteComment:W,isReply:!0,acceptedReply:o,postAuthor:c}),Object(r.jsx)(p.a,{})]},e.id)}))})]})},fa=ot.a({replyBody:ot.b().min(30,"Must be at least 30 characters")}),ya=function(e){var t=e.postId,n=e.tags,a=R(),o=Ke().user,c=tt(),d=c.clearEdit,u=c.notify,m=Object(Q.useForm)({mode:"onChange",resolver:Object(ct.yupResolver)(fa)}),j=m.register,p=m.handleSubmit,h=m.reset,g=m.errors,x=Object(l.useMutation)(Pe,{onError:function(e){u(mt(e),"error")}}),f=Object(i.a)(x,2),y=f[0],v=f[1].loading;return Object(r.jsxs)("div",{className:a.replyForm,children:[o&&Object(r.jsx)(b.a,{variant:"h6",color:"secondary",children:"Your Reply"}),o&&Object(r.jsxs)("form",{onSubmit:p((function(e){var n=e.replyBody;y({variables:{postId:t,body:n},update:function(e,n){var r=n.data;h();var a=e.readQuery({query:hr,variables:{postId:t}}),o=Object(qe.a)(Object(qe.a)({},a.viewPosttion),{},{replies:r.postReply});e.writeQuery({query:hr,variables:{postId:t},data:{viewPosttion:o}}),u("Reply submitted!")}})})),children:[Object(r.jsx)(jt.a,{inputRef:j,name:"replyBody",required:!0,fullWidth:!0,type:"text",placeholder:"Enter atleast 30 characters",variant:"outlined",size:"small",error:"replyBody"in g,helperText:"replyBody"in g?g.replyBody.message:"",multiline:!0,rows:5}),Object(r.jsx)("div",{children:Object(r.jsx)(bt.a,{color:"primary",variant:"contained",style:{marginTop:"0.8em"},type:"submit",disabled:v,children:"Post Your Reply(Up for a Game? Answer deck/card questions, add your opinion!)"})})]}),Object(r.jsx)("div",{className:a.footerText,children:Object(r.jsxs)("span",{children:["Browse other posts tagged"," ",n.map((function(e){return Object(r.jsx)(Ir.a,{label:e,variant:"outlined",color:"primary",size:"small",component:s.b,to:"/tags/".concat(e),className:a.footerTag,clickable:!0},e)})),"or"," ",o?Object(r.jsx)(O.a,{component:s.b,to:"/ask",onClick:function(){return d()},children:"create your own post. Find games, discuss cards/decks, and more!"}):Object(r.jsx)(Bn,{buttonType:"link"})]})})]})},va=function(e){var t=e.post,n=t.id,a=t.replies,o=t.acceptedReply,c=t.upvotedBy,s=t.downvotedBy,u=t.title,m=t.body,j=t.tags,b=t.author,O=Ke().user,h=tt(),g=h.setEditValues,x=h.notify,f=Object(d.g)(),y=R(),v=Object(l.useMutation)(Te,{onError:function(e){x(mt(e),"error")}}),I=Object(i.a)(v,1)[0],w=Object(l.useMutation)(Ee,{onError:function(e){x(mt(e),"error")}}),C=Object(i.a)(w,1)[0],N=Object(l.useMutation)(Re,{onError:function(e){x(mt(e),"error")}}),E=Object(i.a)(N,1)[0],T=Object(l.useMutation)(ke,{onError:function(e){x(mt(e),"error")}}),k=Object(i.a)(T,1)[0],B=Object(l.useMutation)(Be,{onError:function(e){x(mt(e),"error")}}),P=Object(i.a)(B,1)[0];return Object(r.jsxs)("div",{className:y.content,children:[Object(r.jsx)(ja,{postReply:t,upvotePostReply:function(){var e=ha(c,s,O),t=e.updatedUpvotedArr,r=e.updatedDownvotedArr,a=e.updatedPoints;I({variables:{postId:n,voteType:"UPVOTE"},optimisticResponse:{__typename:"Mutation",votePost:{__typename:"Post",id:n,upvotedBy:t,downvotedBy:r,points:a}}})},downvotePostReply:function(){var e=ga(c,s,O),t=e.updatedUpvotedArr,r=e.updatedDownvotedArr,a=e.updatedPoints;I({variables:{postId:n,voteType:"DOWNVOTE"},optimisticResponse:{__typename:"Mutation",votePost:{__typename:"Post",id:n,upvotedBy:t,downvotedBy:r,points:a}}})},editPostReply:function(){g({postId:n,title:u,body:m,tags:j}),f.push("/post")},deletePostReply:function(){C({variables:{postId:n},update:function(){f.push("/"),x("Post deleted!")}})},addComment:function(e){E({variables:{postId:n,body:e},update:function(e,t){var r=t.data,a=e.readQuery({query:hr,variables:{postId:n}}),o=Object(qe.a)(Object(qe.a)({},a.viewPost),{},{comments:r.addPostComment});e.writeQuery({query:hr,variables:{postId:n},data:{viewPost:o}}),x("Comment added to post!")}})},editComment:function(e,t){k({variables:{postId:n,commentId:t,body:e},update:function(){x("Comment edited!")}})},deleteComment:function(e){P({variables:{postId:n,commentId:e},update:function(e,t){var r=t.data,a=e.readQuery({query:hr,variables:{postId:n}}),o=a.viewPost.comments.filter((function(e){return e.id!==r.deletePostComment})),c=Object(qe.a)(Object(qe.a)({},a.viewPost),{},{comments:o});e.writeQuery({query:hr,variables:{postId:n},data:{viewPost:c}}),x("Comment deleted!")}})}}),Object(r.jsx)(p.a,{}),Object(r.jsx)(xa,{postId:n,replies:a,acceptedReply:o,postAuthor:b}),Object(r.jsx)(ya,{postId:n,tags:j})]})},Ia=function(){var e=tt(),t=e.clearEdit,n=e.notify,o=Ke().user,c=Object(d.i)().postId,u=Object(a.useState)(null),m=Object(i.a)(u,2),j=m[0],O=m[1],h=R(),g=Object(kn.a)(),x=Object(En.a)(g.breakpoints.down("xs")),f=Object(l.useLazyQuery)(hr,{onError:function(e){n(mt(e),"error")}}),y=Object(i.a)(f,2),v=y[0],I=y[1],w=I.data,C=I.loading;if(Object(a.useEffect)((function(){v({variables:{postId:c}})}),[c]),Object(a.useEffect)((function(){w&&O(w.viewPost)}),[w]),C||!j)return Object(r.jsx)("div",{style:{minWidth:"100%",marginTop:"20%"},children:Object(r.jsx)(vr,{size:80})});var N=j.title,E=j.views,T=j.createdAt,k=j.updatedAt;return Object(r.jsxs)("div",{className:h.root,children:[Object(r.jsxs)("div",{className:h.topBar,children:[Object(r.jsxs)("div",{className:h.titleWrapper,children:[Object(r.jsx)(b.a,{variant:x?"h6":"h5",color:"secondary",style:{wordWrap:"anywhere"},children:N}),o?Object(r.jsx)(bt.a,{variant:"contained",color:"primary",size:x?"small":"medium",component:s.b,to:"/ask",onClick:function(){return t()},style:{minWidth:"9em"},children:"Command Post"}):Object(r.jsx)(Bn,{buttonType:"ask"})]}),Object(r.jsxs)("div",{className:h.postInfo,children:[Object(r.jsxs)(b.a,{variant:"caption",style:{marginRight:10},children:["Commander ",Object(r.jsxs)("strong",{children:[dt(T)," Posted"]})]}),T!==k&&Object(r.jsxs)(b.a,{variant:"caption",style:{marginRight:10},children:["Commander ",Object(r.jsxs)("strong",{children:[dt(k)," Edited"]})]}),Object(r.jsxs)(b.a,{variant:"caption",children:["Commanders ",Object(r.jsxs)("strong",{children:[E," Viewed"]})]})]})]}),Object(r.jsx)(p.a,{}),Object(r.jsxs)(lr.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",children:[Object(r.jsx)(va,{post:j}),Object(r.jsx)(wr,{})]})]})},wa=n(284),Ca=ot.a({title:ot.b().required("Required").min(15,"Must be at least 15 characters"),body:ot.b().required("Required").min(30,"Must be at least 30 characters")}),Na=function(){var e=B(),t=Object(d.g)(),n=tt(),o=n.editValues,c=n.clearEdit,s=n.notify,u=Object(a.useState)(""),m=Object(i.a)(u,2),j=m[0],p=m[1],O=Object(a.useState)(o?o.tags:[]),h=Object(i.a)(O,2),g=h[0],x=h[1],f=Object(a.useState)(null),y=Object(i.a)(f,2),v=y[0],I=y[1],w=Object(Q.useForm)({defaultValues:{title:o?o.title:"",body:o?o.body:""},mode:"onChange",resolver:Object(ct.yupResolver)(Ca)}),C=w.register,N=w.handleSubmit,E=w.reset,T=w.errors,R=Object(l.useMutation)(Ce,{onError:function(e){I(mt(e))}}),k=Object(i.a)(R,2),P=k[0],A=k[1].loading,S=Object(l.useMutation)(Ne,{onError:function(e){I(mt(e))}}),D=Object(i.a)(S,2),M=D[0],z=D[1].loading,W=function(e){if(e&&(e.target.value||""===e.target.value)){var t=e.target.value.toLowerCase().trim();if(p(t),32===e.target.value.charAt(e.target.selectionStart-1).charCodeAt()&&""!==t.trim()){if(g.includes(t))return I("Duplicate tag found! You can't add the same tag twice.");if(!/^[a-zA-Z0-9-]*$/.test(t))return I("Only alphanumeric characters & dash are allowed.");if(g.length>=5)return p(""),I("Max 5 tags can be added! Not more than that.");if(t.length>15)return I("A single tag can't have more than 15 characters.");x((function(e){return[].concat(Object(ba.a)(e),[t])})),p("")}}};return Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsx)(b.a,{variant:"h5",color:"secondary",children:o?"Edit Your Post":"Command Post"}),Object(r.jsxs)("form",{className:e.postForm,onSubmit:N(o?function(e){var n=e.title,r=e.body;if(0===g.length)return I("Atleast one tag must be added.");M({variables:{postId:o.postId,title:n,body:r,tags:g},update:function(e,n){var r=n.data;t.push("/posts/".concat(r.editPost.id)),c(),s("Post edited!")}})}:function(e){var n=e.title,r=e.body;if(0===g.length)return I("Atleast one tag must be added.");P({variables:{title:n,body:r,tags:g},update:function(e,n){var r=n.data;t.push("/posts/".concat(r.newPost.id)),E(),s("Post added!")}})}),children:[Object(r.jsxs)("div",{className:e.inputWrapper,children:[Object(r.jsx)(b.a,{variant:"caption",color:"secondary",children:"Looking for a game, Deck discussions, card discussions, post it!"}),Object(r.jsx)(jt.a,{required:!0,fullWidth:!0,inputRef:C,name:"title",placeholder:"Enter atleast 15 characters",type:"text",label:"Title",variant:"outlined",size:"small",error:"title"in T,helperText:"title"in T?T.title.message:"",className:e.inputField,InputProps:{startAdornment:Object(r.jsx)(pt.a,{position:"start",children:Object(r.jsx)("div",{})})}})]}),Object(r.jsxs)("div",{className:e.inputWrapper,children:[Object(r.jsx)(b.a,{variant:"caption",color:"secondary",children:"Include whether you are looking for a game, deck advice, card discussion, etc. Include power you want to play, local, online, deck details, card info."}),Object(r.jsx)(jt.a,{required:!0,multiline:!0,rows:5,fullWidth:!0,inputRef:C,name:"body",placeholder:"Enter atleast 30 characters",type:"text",label:"Body",variant:"outlined",size:"small",error:"body"in T,helperText:"body"in T?T.body.message:"",className:e.inputField,InputProps:{startAdornment:Object(r.jsx)(pt.a,{position:"start",children:Object(r.jsx)("div",{})})}})]}),Object(r.jsxs)("div",{className:e.inputWrapper,children:[Object(r.jsx)(b.a,{variant:"caption",color:"secondary",children:"Add Tags To Inform Other Commanders The Nature Of Your Post (Power Level, Spelltable, Local, Deck Advice, Etc.)"}),Object(r.jsx)(wa.a,{multiple:!0,freeSolo:!0,options:[],getOptionLabel:function(e){return e},value:g,inputValue:j,onInputChange:W,onChange:function(e,t,n){x(t)},renderInput:function(t){return Object(r.jsx)(jt.a,Object(qe.a)(Object(qe.a)({},t),{},{variant:"outlined",label:"Tags",placeholder:"Enter space button to add tags",onKeyDown:W,fullWidth:!0,className:e.inputField,size:"small"}))},renderTags:function(e,t){return e.map((function(e,n){return Object(r.jsx)(Ir.a,Object(qe.a)({variant:"outlined",label:e,color:"primary",size:"small"},t({index:n})))}))}})]}),Object(r.jsx)(bt.a,{type:"submit",color:"primary",variant:"contained",size:"large",className:e.submitBtn,disabled:A||z,children:o?"Update Your Post":"Post Your Post"}),Object(r.jsx)(at,{errorMsg:v,clearErrorMsg:function(){return I(null)}})]})]})},Ea=function(e){var t=e.post,n=k();return Object(r.jsxs)("div",{className:n.recentPostReply,children:[Object(r.jsxs)("div",{className:n.votesTitleWrapper,children:[Object(r.jsx)("div",{className:n.votes,children:Object(r.jsx)(b.a,{color:"primary",variant:"subtitle2",children:t.points})}),Object(r.jsx)(b.a,{variant:"subtitle2",color:"secondary",className:n.title,component:s.b,to:"/posts/".concat(t.id),children:t.title})]}),Object(r.jsxs)(b.a,{variant:"caption",className:n.timeAgo,children:[dt(t.createdAt)," ago"]})]})};var Ta=function(){var e=k(),t=tt().notify,n=Object(d.i)().username,o=Object(a.useState)(null),c=Object(i.a)(o,2),u=c[0],m=c[1],j=Object(l.useLazyQuery)(gr,{onError:function(e){t(mt(e),"error")}}),O=Object(i.a)(j,2),h=O[0],g=O[1],x=g.data,f=g.loading;if(Object(a.useEffect)((function(){h({variables:{username:n}})}),[n]),Object(a.useEffect)((function(){x&&m(x.getUser)}),[x]),f||!u)return Object(r.jsx)("div",{style:{minWidth:"100%",marginTop:"20%"},children:Object(r.jsx)(vr,{size:80})});var y=u.id,v=u.username,I=u.createdAt,w=u.reputation,C=u.totalPosts,N=u.totalReplies,E=u.recentPosts,T=u.recentReplies;return Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsxs)("div",{className:e.userCard,children:[Object(r.jsx)(Pn.a,{src:"https://secure.gravatar.com/avatar/".concat(y,"?s=164&d=identicon"),alt:n,className:e.avatar,component:s.b,to:"/user/".concat(n)}),Object(r.jsxs)(b.a,{variant:"h5",color:"secondary",className:e.cardText,children:[w," ",Object(r.jsx)(b.a,{variant:"caption",children:"COMMANDER REPUTATION"})]})]}),Object(r.jsxs)("div",{className:e.infoCard,children:[Object(r.jsxs)("div",{className:e.userInfo,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(b.a,{variant:"h4",color:"primary",className:e.bigText,children:v}),Object(r.jsxs)(b.a,{variant:"body1",color:"secondary",className:e.smallText,children:["Commander Since ",dt(I)]})]}),Object(r.jsxs)("div",{className:e.statsBar,children:[Object(r.jsxs)("div",{style:{marginRight:10},children:[Object(r.jsx)(b.a,{variant:"h4",color:"primary",className:e.bigText,children:N}),Object(r.jsx)(b.a,{variant:"body1",color:"secondary",className:e.smallText,children:"Replies"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(b.a,{variant:"h4",color:"primary",className:e.bigText,children:C}),Object(r.jsx)(b.a,{variant:"body1",color:"secondary",className:e.smallText,children:"Posts"})]})]})]}),Object(r.jsx)(p.a,{}),Object(r.jsxs)("div",{className:e.recentActivity,children:[Object(r.jsxs)("div",{style:{marginBottom:"1em"},children:[Object(r.jsx)(b.a,{variant:"h6",color:"primary",children:"Your Most Recent Post"}),Object(r.jsx)(p.a,{}),0!==E.length?E.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(Ea,{post:e}),Object(r.jsx)(p.a,{})]},e.id)})):Object(r.jsx)(b.a,{variant:"subtitle1",children:"No posts asked yet."})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(b.a,{variant:"h6",color:"primary",children:"Last Post You Replied"}),Object(r.jsx)(p.a,{}),0!==T.length?T.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(p.a,{})},e.id)})):Object(r.jsx)(b.a,{variant:"subtitle1",children:"No Posts Replied To"})]})]})]})]})};function Ra(){return(Ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ka(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ba=a.createElement("g",{transform:"translate(0 -1)"},a.createElement("g",null,a.createElement("g",null,a.createElement("path",{d:"M469.336,1.005H42.669C19.519,0.639,0.437,19.073,0.003,42.222v352.767c0.434,23.149,19.517,41.583,42.667,41.217 h136.533v25.6h-34.133c-18.843,0.02-34.113,15.29-34.133,34.133v8.533c-0.001,2.263,0.898,4.434,2.499,6.035 c1.6,1.6,3.771,2.499,6.035,2.499h273.067c2.263,0.001,4.434-0.898,6.035-2.499c1.6-1.6,2.499-3.771,2.499-6.035v-8.533 c-0.02-18.843-15.29-34.113-34.133-34.133h-34.133v-25.6h136.533c23.15,0.366,42.232-18.068,42.667-41.217V42.222 C511.568,19.073,492.486,0.639,469.336,1.005z M366.936,478.872c9.421,0.011,17.056,7.645,17.067,17.067h-256 c0.011-9.421,7.645-17.056,17.067-17.067H366.936z M196.269,461.805v-25.6h119.467v25.6H196.269z M494.936,394.989 c-0.427,13.726-11.872,24.523-25.6,24.15H42.669c-13.728,0.373-25.173-10.424-25.6-24.15v-18.517h477.867V394.989z  M494.936,359.405H17.069V42.222c0.427-13.726,11.872-24.523,25.6-24.15h426.667c13.728-0.373,25.173,10.424,25.6,24.15V359.405z "}),a.createElement("path",{d:"M116.336,239.939l279.692-0.012c22.518-1.118,39.958-20.123,39.142-42.654l-0.009-84.946 c0.941-22.804-16.756-42.065-39.558-43.054l-279.692,0.012c-22.518,1.118-39.958,20.123-39.142,42.654l0.008,84.946 C75.837,219.688,93.534,238.95,116.336,239.939z M93.827,111.551c-0.615-13.131,9.392-24.34,22.509-25.213l278.842-0.012 c13.402,0.745,23.664,12.21,22.925,25.612l0.009,85.721c0.614,13.131-9.392,24.339-22.508,25.213l-278.842,0.012 c-13.403-0.744-23.666-12.21-22.925-25.612L93.827,111.551z"}),a.createElement("path",{d:"M145.036,180.205h34.133v17.067c0,4.713,3.82,8.533,8.533,8.533s8.533-3.82,8.533-8.533v-17.067h8.533 c4.713,0,8.533-3.82,8.533-8.533s-3.82-8.533-8.533-8.533h-8.533v-8.533c0-4.713-3.821-8.533-8.533-8.533 s-8.533,3.821-8.533,8.533v8.533h-19.425l26.833-46.967c2.326-4.09,0.902-9.292-3.184-11.626 c-4.086-2.335-9.29-0.921-11.633,3.16l-34.133,59.733c-1.511,2.641-1.501,5.886,0.026,8.518S141.994,180.207,145.036,180.205z"}),a.createElement("path",{d:"M307.169,180.205h34.133v17.067c0,4.713,3.82,8.533,8.533,8.533s8.533-3.82,8.533-8.533v-17.067h8.533 c4.713,0,8.533-3.82,8.533-8.533s-3.821-8.533-8.533-8.533h-8.533v-8.533c0-4.713-3.82-8.533-8.533-8.533 s-8.533,3.821-8.533,8.533v8.533h-19.425l26.833-46.967c2.326-4.09,0.902-9.292-3.184-11.626 c-4.086-2.335-9.29-0.921-11.633,3.16l-34.133,59.733c-1.511,2.641-1.501,5.886,0.026,8.518S304.127,180.207,307.169,180.205z"}),a.createElement("path",{d:"M247.436,205.805h17.067c14.132-0.015,25.585-11.468,25.6-25.6v-51.2c-0.015-14.132-11.468-25.585-25.6-25.6h-17.067 c-14.132,0.015-25.585,11.468-25.6,25.6v51.2C221.851,194.337,233.304,205.79,247.436,205.805z M238.903,129.005 c0.005-4.711,3.822-8.529,8.533-8.533h17.067c4.711,0.005,8.529,3.822,8.533,8.533v51.2c-0.005,4.711-3.822,8.529-8.533,8.533 h-17.067c-4.711-0.005-8.529-3.822-8.533-8.533V129.005z"}),a.createElement("path",{d:"M409.603,265.539h-307.2c-14.132,0.015-25.585,11.468-25.6,25.6v17.067c0.015,14.132,11.468,25.585,25.6,25.6h307.2 c14.132-0.015,25.585-11.468,25.6-25.6v-17.067C435.187,277.007,423.735,265.554,409.603,265.539z M102.403,316.739 c-4.711-0.005-8.529-3.822-8.533-8.533v-17.067c0.005-4.711,3.822-8.529,8.533-8.533h26.723l-22.756,34.133H102.403z  M126.88,316.739l22.756-34.133h22.156l-22.756,34.133H126.88z M169.546,316.739l22.756-34.133h22.156l-22.756,34.133H169.546z  M212.213,316.739l22.756-34.133h22.156l-22.756,34.133H212.213z M254.88,316.739l22.756-34.133h22.156l-22.756,34.133H254.88z  M297.546,316.739l22.756-34.133h22.156l-22.756,34.133H297.546z M340.213,316.739l22.756-34.133h22.156l-22.756,34.133H340.213z  M418.136,308.205c-0.005,4.711-3.822,8.529-8.533,8.533H382.88l22.756-34.133h3.967c4.711,0.005,8.529,3.822,8.533,8.533 V308.205z"})))),Pa=a.createElement("g",null),Aa=a.createElement("g",null),Sa=a.createElement("g",null),Da=a.createElement("g",null),Ma=a.createElement("g",null),za=a.createElement("g",null),Wa=a.createElement("g",null),$a=a.createElement("g",null),qa=a.createElement("g",null),La=a.createElement("g",null),Ua=a.createElement("g",null),_a=a.createElement("g",null),Fa=a.createElement("g",null),Va=a.createElement("g",null),Ga=a.createElement("g",null);function Ha(e,t){var n=e.title,r=e.titleId,o=ka(e,["title","titleId"]);return a.createElement("svg",Ra({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512.005 512.005",style:{enableBackground:"new 0 0 512.005 512.005"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,Ba,Pa,Aa,Sa,Da,Ma,za,Wa,$a,qa,La,Ua,_a,Fa,Va,Ga)}var Qa=a.forwardRef(Ha),Ya=(n.p,function(){var e=S();return Object(r.jsx)("div",{className:e.root,children:Object(r.jsxs)("div",{className:e.textWrapper,children:[Object(r.jsx)(Tn.a,{color:"primary",className:e.icon,children:Object(r.jsx)(Qa,{})}),Object(r.jsx)(b.a,{color:"secondary",variant:"h5",children:"Page Not Found"}),Object(r.jsx)(b.a,{color:"secondary",variant:"body1",children:"The page you requested does not exist."})]})})}),Ja=function(){var e=Ke().user;return Object(r.jsx)(tr.a,{disableGutters:!0,children:Object(r.jsx)(lr.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",children:Object(r.jsxs)(d.d,{children:[Object(r.jsxs)(d.b,{exact:!0,path:"/",children:[Object(r.jsx)(dr,{}),Object(r.jsx)(Ar,{}),Object(r.jsx)(wr,{})]}),Object(r.jsx)(d.b,{exact:!0,path:"/ask",children:e?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(dr,{}),Object(r.jsx)(Na,{}),Object(r.jsx)(wr,{})]}):Object(r.jsx)(d.a,{to:"/"})}),Object(r.jsxs)(d.b,{exact:!0,path:"/tags",children:[Object(r.jsx)(dr,{}),Object(r.jsx)(Sr,{})]}),Object(r.jsxs)(d.b,{exact:!0,path:"/users",children:[Object(r.jsx)(dr,{}),Object(r.jsx)(Dr,{})]}),Object(r.jsxs)(d.b,{exact:!0,path:"/user/:username",children:[Object(r.jsx)(dr,{}),Object(r.jsx)(Ta,{})]}),Object(r.jsxs)(d.b,{exact:!0,path:"/posts/:postId",children:[Object(r.jsx)(dr,{}),Object(r.jsx)(Ia,{})]}),Object(r.jsxs)(d.b,{exact:!0,path:"/tags/:tagName",children:[Object(r.jsx)(dr,{}),Object(r.jsx)(Ar,{tagFilterActive:!0}),Object(r.jsx)(wr,{})]}),Object(r.jsxs)(d.b,{exact:!0,path:"/search/:query",children:[Object(r.jsx)(dr,{}),Object(r.jsx)(Ar,{searchFilterActive:!0}),Object(r.jsx)(wr,{})]}),Object(r.jsxs)(d.b,{children:[Object(r.jsx)(dr,{}),Object(r.jsx)(Ya,{}),Object(r.jsx)(wr,{})]})]})})})},Ka=n(178),Za=function(e){return Object(Ka.a)({palette:{type:e?"dark":"light",primary:{main:e?"#2a00e7":"#f3cf06"},secondary:{main:e?"#8b84e6":"#003b03"}},overrides:{MuiMenuItem:{root:{"&$selected":{borderRight:"2px solid #000000",fontWeight:"800"}}},MuiPopover:{paper:{borderRadius:3}},MuiButton:{root:{borderRadius:4,textTransform:"none"}},MuiChip:{root:{borderRadius:3,padding:"0px"},outlined:{backgroundColor:e?"#004bbb48":"#0669486e"}}},props:{MuiButton:{disableElevation:!0}}})},Xa=n(280),eo=function(){var e=tt().darkMode,t=x();return Object(r.jsx)("div",{children:Object(r.jsx)(Xa.a,{theme:Za(e),children:Object(r.jsxs)(Tr.a,{className:t.root,elevation:0,children:[Object(r.jsx)(sr,{}),Object(r.jsx)(cr,{}),Object(r.jsx)(Ja,{})]})})})},to=n(180),no=new l.HttpLink({uri:"http://localhost:3001"}),ro=Object(to.a)((function(){var e=Fe();return{headers:{authorization:e?e.token:null}}})),ao=new l.ApolloClient({cache:new l.InMemoryCache({typePolicies:{Post:{fields:{upvotedBy:{merge:function(e,t){return t}},downvotedBy:{merge:function(e,t){return t}},comments:{merge:function(e,t){return t}},replies:{merge:function(e,t){return t}},tags:{merge:function(e,t){return t}}}},Reply:{fields:{upvotedBy:{merge:function(e,t){return t}},downvotedBy:{merge:function(e,t){return t}},comments:{merge:function(e,t){return t}}}}}}),link:ro.concat(no)});c.a.render(Object(r.jsx)(l.ApolloProvider,{client:ao,children:Object(r.jsx)(s.a,{children:Object(r.jsx)(Je,{children:Object(r.jsx)(et,{children:Object(r.jsx)(eo,{})})})})}),document.getElementById("root"))}},[[213,1,2]]]);
//# sourceMappingURL=main.ce3d5d4d.chunk.js.map